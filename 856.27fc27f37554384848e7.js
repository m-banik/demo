"use strict";(self.webpackChunkiframe_list=self.webpackChunkiframe_list||[]).push([[856],{1207:(e,t,r)=>{r.d(t,{AF:()=>C,E5:()=>d,Ic:()=>i,Lp:()=>f,Pm:()=>p,_g:()=>c,aE:()=>h,as:()=>b,im:()=>w,uf:()=>u});var n=r(9448),l=r(3614),o=r(198),a=r(670);const i=e=>e.filter,u=(0,n.P)(i,(e=>e.filterModel)),s=((0,n.P)(u,(e=>e.quickFilterValues)),(0,n.P)(i,(e=>e.visibleRowsLookup))),c=(0,n.P)(i,(e=>e.filteredRowsLookup)),d=((0,n.P)(i,(e=>e.filteredDescendantCountLookup)),(0,n.P)(s,l.sX,((e,t)=>t.filter((t=>!1!==e[t.id]))))),p=(0,n.P)(d,(e=>e.map((e=>e.id)))),g=(0,n.P)(c,l.sX,((e,t)=>t.filter((t=>!1!==e[t.id])))),f=(0,n.P)(g,(e=>e.map((e=>e.id)))),w=(0,n.P)(d,a.Kd,a.P4,((e,t,r)=>r<2?e:e.filter((e=>{var r;return 0===(null==(r=t[e.id])?void 0:r.depth)})))),h=(0,n.P)(d,(e=>e.length)),b=(0,n.P)(w,(e=>e.length)),m=(0,n.P)(u,o.WH,((e,t)=>{var r;return null==(r=e.items)?void 0:r.filter((e=>{var r,n;if(!e.columnField)return!1;const l=t[e.columnField];if(null==l||!l.filterOperators||0===(null==l||null==(r=l.filterOperators)?void 0:r.length))return!1;const o=l.filterOperators.find((t=>t.value===e.operatorValue));return!!o&&(!o.InputComponent||null!=e.value&&""!==(null==(n=e.value)?void 0:n.toString()))}))})),C=(0,n.P)(m,(e=>e.reduce(((e,t)=>(e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e)),{})))},6465:(e,t,r)=>{r.d(t,{B:()=>z,L:()=>x});var n=r(7462),l=r(7294),o=r(7506),a=r(5057),i=r(1091),u=r(8447),s=r(198),c=r(7476),d=r(9107);const p=()=>({items:[],linkOperator:d.f.And,quickFilterValues:[],quickFilterLogicOperator:d.f.And});var g=r(1207),f=r(8248),w=r(670),h=r(7514),b=r(8558),m=r(2939),C=r(2339);const v=(e,t)=>{const r=(0,n.Z)({},e);if(null==r.id&&(r.id=Math.round(1e5*Math.random())),null==r.operatorValue){const e=(0,s.WH)(t)[r.columnField];r.operatorValue=e&&e.filterOperators[0].value}return r},k=(0,C.b)(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),P=(0,C.b)("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),R=(0,C.b)(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),F=(e,t,r)=>{const l=e.items.length>1;let o;l&&t?(k(),o=[e.items[0]]):o=e.items;const a=l&&o.some((e=>null==e.id)),i=o.some((e=>null==e.operatorValue));return a&&P(),i&&R(),i||a?(0,n.Z)({},e,{items:o.map((e=>v(e,r)))}):e.items!==o?(0,n.Z)({},e,{items:o}):e},M=(e,t,r)=>l=>(0,n.Z)({},l,{filterModel:F(e,t,r)}),S=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const r=t.current.getColumn(e.columnField);if(!r)return null;let l;if(r.valueParser){var o;const t=r.valueParser;l=Array.isArray(e.value)?null==(o=e.value)?void 0:o.map((e=>t(e))):t(e.value)}else l=e.value;const a=(0,n.Z)({},e,{value:l}),i=r.filterOperators;if(null==i||!i.length)throw new Error(`MUI: No filter operators found for column '${r.field}'.`);const u=i.find((e=>e.value===a.operatorValue));if(!u)throw new Error(`MUI: No filter operator found for column '${r.field}' and operator value '${a.operatorValue}'.`);const s=u.getApplyFilterFn(a,r);if("function"!=typeof s)return null;return{fn:e=>{const r=t.current.getCellParams(e,a.columnField);return s(r)},item:a}},I=(e,t)=>{const r=((e,t)=>{const{items:r}=e,n=r.map((e=>S(e,t))).filter((e=>!!e));return 0===n.length?null:(e,t)=>{const r={};return(t?n.filter((e=>t(e.item.columnField))):n).forEach((t=>{r[t.item.id]=t.fn(e)})),r}})(e,t),n=((e,t)=>{const{quickFilterValues:r=[]}=e;if(0===r.length)return null;const n=(0,s.Zi)(t),l={};n.forEach((e=>{const n=t.current.getColumn(e),o=null==n?void 0:n.getApplyQuickFilterFn;o&&(l[e]=r.map((e=>o(e,n,t))))}));const o=r.filter(((e,t)=>Object.keys(l).some((e=>null!=l[e][t]))));return 0===o.length?null:(e,r)=>{const n={},a=[];Object.keys(l).forEach((l=>{r&&!r(l)||(n[l]=t.current.getCellParams(e,l),a.push(l))}));const i={};return o.forEach(((e,t)=>{const r=a.some((e=>{var r,o;return null!=l[e][t]&&(null==(r=(o=l[e])[t])?void 0:r.call(o,n[e]))}));i[e]=r})),i}})(e,t);return(e,t)=>({passingFilterItems:r&&r(e,t),passingQuickFilterValues:n&&n(e,t)})},y=(e,t,r,n)=>{var l,o;const a=r.items.filter((e=>null!==S(e,n))),i=e.filter((e=>null!=e)),u=t.filter((e=>null!=e)),s=null!=(l=r.quickFilterLogicOperator)?l:p().quickFilterLogicOperator,c=null!=(o=r.linkOperator)?o:p().linkOperator;if(i.length>0){const e=e=>i.some((t=>t[e.id]));if(c===d.f.And){if(!a.every(e))return!1}else{if(!a.some(e))return!1}}if(u.length>0&&null!=r.quickFilterValues){const e=e=>u.some((t=>t[e]));if(s===d.f.And){if(!r.quickFilterValues.every(e))return!1}else{if(!r.quickFilterValues.some(e))return!1}}return!0};var Z=r(4791),E=r(8521);const z=(e,t,r)=>{var l,o,a,i;const u=null!=(l=null!=(o=t.filterModel)?o:null==(a=t.initialState)||null==(i=a.filter)?void 0:i.filterModel)?l:p();return(0,n.Z)({},e,{filter:{filterModel:F(u,t.disableMultipleColumnsFiltering,r),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},x=(e,t)=>{var r,d,C;const k=(0,u.J)(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:g.uf,changeEvent:"filterModelChange"});const P=l.useCallback((()=>{e.current.setState((r=>{const l=(0,g.uf)(r,e.current.instanceId),a=t.filterMode===o.p.client?I(l,e):null,i=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:a,filterModel:null!=l?l:p()});return(0,n.Z)({},r,{filter:(0,n.Z)({},r.filter,i)})})),e.current.publishEvent("filteredRowsSet")}),[t.filterMode,e]),R=l.useCallback((()=>{P(),e.current.forceUpdate()}),[e,P]),F=l.useCallback((t=>{const r=(0,g.uf)(e),l=[...r.items],o=l.findIndex((e=>e.id===t.id));-1===o?l.push(t):l[o]=t,e.current.setFilterModel((0,n.Z)({},r,{items:l}),"upsertFilterItem")}),[e]),S=l.useCallback((t=>{const r=(0,g.uf)(e),l=[...r.items];t.forEach((e=>{const r=t.findIndex((t=>t.id===e.id));-1===r?l.push(e):l[r]=e})),e.current.setFilterModel((0,n.Z)({},r,{items:t}),"upsertFilterItems")}),[e]),z=l.useCallback((t=>{const r=(0,g.uf)(e),l=r.items.filter((e=>e.id!==t.id));l.length!==r.items.length&&e.current.setFilterModel((0,n.Z)({},r,{items:l}),"deleteFilterItem")}),[e]),x=l.useCallback((r=>{if(k.debug("Displaying filter panel"),r){const l=(0,g.uf)(e),o=l.items.filter((t=>{var r;if(void 0!==t.value)return!0;const n=null==(r=e.current.getColumn(t.columnField).filterOperators)?void 0:r.find((e=>e.value===t.operatorValue));return!(void 0===(null==n?void 0:n.requiresFilterValue)||(null==n?void 0:n.requiresFilterValue))}));let a;a=o.find((e=>e.columnField===r))?o:t.disableMultipleColumnsFiltering?[v({columnField:r},e)]:[...o,v({columnField:r},e)],e.current.setFilterModel((0,n.Z)({},l,{items:a}))}e.current.showPreferences(c.y.filters)}),[e,k,t.disableMultipleColumnsFiltering]),T=l.useCallback((()=>{k.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,k]),L=l.useCallback((t=>{const r=(0,g.uf)(e);r.linkOperator!==t&&e.current.setFilterModel((0,n.Z)({},r,{linkOperator:t}),"changeLogicOperator")}),[e]),V=l.useCallback((t=>{const r=(0,g.uf)(e);(0,Z.xb)(r.quickFilterValues,t)||e.current.setFilterModel((0,n.Z)({},r,{quickFilterValues:[...t]}))}),[e]),_={setFilterLinkOperator:L,unstable_applyFilters:R,deleteFilterItem:z,upsertFilterItem:F,upsertFilterItems:S,setFilterModel:l.useCallback(((r,n)=>{(0,g.uf)(e)!==r&&(k.debug("Setting filter model"),e.current.unstable_updateControlState("filter",M(r,t.disableMultipleColumnsFiltering,e),n),e.current.unstable_applyFilters())}),[e,k,t.disableMultipleColumnsFiltering]),showFilterPanel:x,hideFilterPanel:T,getVisibleRowModels:l.useCallback((()=>{const t=(0,g.E5)(e);return new Map(t.map((e=>[e.id,e.model])))}),[e]),setQuickFilterValues:V};(0,i.h)(e,_,"GridFilterApi");const H=l.useCallback(((r,l)=>{var o,a;const i=(0,g.uf)(e);return!l.exportOnlyDirtyModels||null!=t.filterModel||null!=(null==(o=t.initialState)||null==(a=o.filter)?void 0:a.filterModel)||!(0,Z.xb)(i,p())?(0,n.Z)({},r,{filter:{filterModel:i}}):r}),[e,t.filterModel,null==(r=t.initialState)||null==(d=r.filter)?void 0:d.filterModel]),D=l.useCallback(((r,l)=>{var o;const a=null==(o=l.stateToRestore.filter)?void 0:o.filterModel;return null==a?r:(e.current.unstable_updateControlState("filter",M(a,t.disableMultipleColumnsFiltering,e),"restoreState"),(0,n.Z)({},r,{callbacks:[...r.callbacks,e.current.unstable_applyFilters]}))}),[e,t.disableMultipleColumnsFiltering]),O=l.useCallback(((e,r)=>{if(r===c.y.filters){var l;const e=t.components.FilterPanel;return(0,E.jsx)(e,(0,n.Z)({},null==(l=t.componentsProps)?void 0:l.filterPanel))}return e}),[t.components.FilterPanel,null==(C=t.componentsProps)?void 0:C.filterPanel]),U=l.useCallback((r=>{if(t.filterMode===o.p.client&&r.isRowMatchingFilters){const t=(0,w.OB)(e),n={};for(let l=0;l<t.length;l+=1){const o=t[l];let a;if("string"==typeof o&&o.startsWith("auto-generated-group-footer"))a=!0;else{const{passingFilterItems:t,passingQuickFilterValues:n}=r.isRowMatchingFilters(o);a=y([t],[n],r.filterModel,e)}n[o]=a}return{filteredRowsLookup:n,visibleRowsLookup:n,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}}),[e,t.filterMode]);(0,h.Z)(e,"exportState",H),(0,h.Z)(e,"restoreState",D),(0,h.Z)(e,"preferencePanel",O),(0,b.H)(e,m.Lm,"filtering",U);const A=l.useCallback((()=>{k.debug("onColUpdated - GridColumns changed, applying filters");const t=(0,g.uf)(e),r=(0,s.xs)(e),l=t.items.filter((e=>e.columnField&&r[e.columnField]));l.length<t.items.length&&e.current.setFilterModel((0,n.Z)({},t,{items:l}))}),[e,k]),G=l.useCallback((t=>{"filtering"===t&&e.current.unstable_applyFilters()}),[e]);(0,a.zn)(e,"rowsSet",P),(0,a.zn)(e,"rowExpansionChange",e.current.unstable_applyFilters),(0,a.zn)(e,"columnsChange",A),(0,a.zn)(e,"activeStrategyProcessorChange",G),(0,f.s)((()=>{e.current.unstable_applyFilters()})),l.useEffect((()=>{void 0!==t.filterModel&&e.current.setFilterModel(t.filterModel)}),[e,k,t.filterModel])}},5543:(e,t,r)=>{r.d(t,{TR:()=>o,X5:()=>s,d6:()=>u,ud:()=>a});var n=r(9448);const l=e=>e.focus,o=(0,n.P)(l,(e=>e.cell)),a=(0,n.P)(l,(e=>e.columnHeader)),i=e=>e.tabIndex,u=(0,n.P)(i,(e=>e.cell)),s=(0,n.P)(i,(e=>e.columnHeader))},9150:(e,t,r)=>{r.d(t,{W:()=>f,z:()=>w});var n=r(7462),l=r(7294),o=r(7505),a=r(1091),i=r(8447),u=r(5057),s=r(1592),c=r(5543),d=r(198),p=r(1133),g=r(4791);const f=e=>(0,n.Z)({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),w=(e,t)=>{const r=(0,i.J)(e,"useGridFocus"),f=l.useRef(null),w=l.useCallback(((t,r)=>{t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),r)}),[e]),h=l.useCallback(((t,l)=>{const o=(0,c.TR)(e);(null==o?void 0:o.id)===t&&(null==o?void 0:o.field)===l||(e.current.setState((e=>(r.debug(`Focusing on cell with id=${t} and field=${l}`),(0,n.Z)({},e,{tabIndex:{cell:{id:t,field:l},columnHeader:null},focus:{cell:{id:t,field:l},columnHeader:null}})))),e.current.forceUpdate(),e.current.getRow(t)&&(o&&w(o,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,l))))}),[e,r,w]),b=l.useCallback(((t,l={})=>{const o=(0,c.TR)(e);w(o,l),e.current.setState((e=>(r.debug(`Focusing on column header with colIndex=${t}`),(0,n.Z)({},e,{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}})))),e.current.forceUpdate()}),[e,r,w]),m=l.useCallback(((r,n,l)=>{let o=e.current.getColumnIndex(n),a=e.current.getRowIndexRelativeToVisibleRows(r);const i=(0,d.FE)(e);"right"===l?o+=1:"left"===l?o-=1:a+=1;const u=(0,p.j)(e,{pagination:t.pagination,paginationMode:t.paginationMode});o>=i.length?(a+=1,a<u.rows.length&&(o=0)):o<0&&(a-=1,a>=0&&(o=i.length-1)),a=(0,g.uZ)(a,0,u.rows.length-1);const s=u.rows[a],c=e.current.unstable_getCellColSpanInfo(s.id,o);c&&c.spannedByColSpan&&("left"===l||"below"===l?o=c.leftVisibleCellIndex:"right"===l&&(o=c.rightVisibleCellIndex)),o=(0,g.uZ)(o,0,i.length-1);const f=i[o];e.current.setCellFocus(s.id,f.field)}),[e,t.pagination,t.paginationMode]),C=l.useCallback((({id:t,field:r})=>{e.current.setCellFocus(t,r)}),[e]),v=l.useCallback(((t,r)=>{"Enter"===r.key||"Tab"===r.key||(0,s.Ni)(r.key)||e.current.setCellFocus(t.id,t.field)}),[e]),k=l.useCallback((({field:t},r)=>{r.target===r.currentTarget&&e.current.setColumnHeaderFocus(t,r)}),[e]),P=l.useCallback((()=>{r.debug("Clearing focus"),e.current.setState((e=>(0,n.Z)({},e,{focus:{cell:null,columnHeader:null}})))}),[r,e]),R=l.useCallback((e=>{f.current=e}),[]),F=l.useCallback((t=>{const r=f.current;f.current=null;const l=(0,c.TR)(e);if(!l)return void(r&&e.current.setCellFocus(r.id,r.field));if((null==r?void 0:r.id)===l.id&&(null==r?void 0:r.field)===l.field)return;const o=e.current.getCellElement(l.id,l.field);null!=o&&o.contains(t.target)||(r?e.current.setCellFocus(r.id,r.field):(e.current.setState((e=>(0,n.Z)({},e,{focus:{cell:null,columnHeader:null}}))),e.current.forceUpdate(),w(l,t)))}),[e,w]),M=l.useCallback((t=>{if("view"===t.cellMode)return;const r=(0,c.TR)(e);(null==r?void 0:r.id)===t.id&&(null==r?void 0:r.field)===t.field||e.current.setCellFocus(t.id,t.field)}),[e]),S=l.useCallback((()=>{const t=(0,c.TR)(e);t&&!e.current.getRow(t.id)&&e.current.setState((e=>(0,n.Z)({},e,{focus:{cell:null,columnHeader:null}})))}),[e]);(0,a.h)(e,{setCellFocus:h,setColumnHeaderFocus:b,unstable_moveFocusToRelativeCell:m},"GridFocusApi"),l.useEffect((()=>{const t=(0,o.Z)(e.current.rootElementRef.current);return t.addEventListener("click",F),()=>{t.removeEventListener("click",F)}}),[e,F]),(0,u.zn)(e,"columnHeaderBlur",P),(0,u.zn)(e,"cellDoubleClick",C),(0,u.zn)(e,"cellMouseDown",R),(0,u.zn)(e,"cellKeyDown",v),(0,u.zn)(e,"cellModeChange",M),(0,u.zn)(e,"columnHeaderFocus",k),(0,u.zn)(e,"rowsSet",S)}},6671:(e,t,r)=>{r.d(t,{D:()=>w});var n=r(7294),l=r(198),o=r(8447),a=r(5057),i=r(1207),u=r(1133),s=r(1337),c=r(3490),d=r(9668),p=r(1592),g=r(2478),f=r(670);const w=(e,t)=>{const r=(0,o.J)(e,"useGridKeyboardNavigation"),w=(0,u.y)(e,t).rows,h=n.useMemo((()=>function(e,t){const r=(0,f.Kf)(e)||{};return[...r.top||[],...t,...r.bottom||[]]}(e,w)),[e,w]),b=n.useCallback(((t,n,l="left")=>{const o=(0,i.E5)(e),a=e.current.unstable_getCellColSpanInfo(n,t);a&&a.spannedByColSpan&&("left"===l?t=a.leftVisibleCellIndex:"right"===l&&(t=a.rightVisibleCellIndex));const u=o.findIndex((e=>e.id===n));r.debug(`Navigating to cell row ${u}, col ${t}`),e.current.scrollToIndexes({colIndex:t,rowIndex:u});const s=e.current.getVisibleColumns()[t].field;e.current.setCellFocus(n,s)}),[e,r]),m=n.useCallback(((t,n)=>{r.debug(`Navigating to header col ${t}`),e.current.scrollToIndexes({colIndex:t});const l=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(l,n)}),[e,r]),C=n.useCallback((e=>h[e].id),[h]),v=n.useCallback(((t,r)=>{const n=e.current.getRootDimensions();if(0===h.length||!n)return;const o=e.current.unstable_getViewportPageSize(),a=t.field?e.current.getColumnIndex(t.field):0,i=h.findIndex((e=>e.id===t.id)),u=h.length-1,s=(0,l.FE)(e).length-1;let c=!0;switch(r.key){case"ArrowDown":case"Enter":i<u&&b(a,C(i+1));break;case"ArrowUp":i>0?b(a,C(i-1)):m(a,r);break;case"ArrowRight":a<s&&b(a+1,C(i),"right");break;case"ArrowLeft":a>0&&b(a-1,C(i));break;case"Tab":r.shiftKey&&a>0?b(a-1,C(i),"left"):!r.shiftKey&&a<s&&b(a+1,C(i),"right");break;case" ":{if(t.field===g.u)break;const e=t.colDef;if(e&&"treeDataGroup"===e.type)break;!r.shiftKey&&i<u&&b(a,C(Math.min(i+o,u)));break}case"PageDown":i<u&&b(a,C(Math.min(i+o,u)));break;case"PageUp":{const e=Math.max(i-o,0);e!==i&&e>=0?b(a,C(e)):m(a,r);break}case"Home":r.ctrlKey||r.metaKey||r.shiftKey?b(0,C(0)):b(0,C(i));break;case"End":r.ctrlKey||r.metaKey||r.shiftKey?b(s,C(u)):b(s,C(i));break;default:c=!1}c&&r.preventDefault()}),[e,h,b,m,C]),k=n.useCallback(((t,r)=>{const n=r.currentTarget.querySelector(`.${c._.columnHeaderTitleContainerContent}`);if(!!n&&n.contains(r.target)&&t.field!==s.n.field)return;if(!e.current.getRootDimensions())return;const o=e.current.unstable_getViewportPageSize(),a=t.field?e.current.getColumnIndex(t.field):0,i=h.length-1,u=(0,l.FE)(e).length-1;let d=!0;switch(r.key){case"ArrowDown":b(a,C(0));break;case"ArrowRight":a<u&&m(a+1,r);break;case"ArrowLeft":a>0&&m(a-1,r);break;case"PageDown":null!==i&&b(a,C(Math.min(0+o,i)));break;case"Home":m(0,r);break;case"End":m(u,r);break;case"Enter":(r.ctrlKey||r.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:d=!1}d&&r.preventDefault()}),[e,h,b,m,C]),P=n.useCallback(((t,r)=>{if(!r.currentTarget.contains(r.target))return;const n=e.current.getCellParams(t.id,t.field);n.cellMode!==d.Vl.Edit&&(0,p.Ni)(r.key)&&e.current.publishEvent("cellNavigationKeyDown",n,r)}),[e]);(0,a.zn)(e,"cellNavigationKeyDown",v),(0,a.zn)(e,"columnHeaderKeyDown",k),(0,a.zn)(e,"cellKeyDown",P)}},8949:(e,t,r)=>{r.d(t,{B_:()=>u,Mk:()=>c,Uj:()=>s,Yp:()=>d,bu:()=>i,fL:()=>a});var n=r(9448),l=r(1207),o=r(670);const a=e=>e.pagination,i=(0,n.P)(a,(e=>e.page)),u=(0,n.P)(a,(e=>e.pageSize)),s=((0,n.P)(a,(e=>e.pageCount)),(0,n.P)(a,o.Kd,o.P4,l.E5,l.im,((e,t,r,n,l)=>{const o=l.length,a=Math.min(e.pageSize*e.page,o-1),i=Math.min(a+e.pageSize-1,o-1);if(-1===a||-1===i)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:i};const u=l[a],s=i-a+1,c=n.findIndex((e=>e.id===u.id));let d=c,p=0;for(;d<n.length&&p<=s;){const e=t[n[d].id].depth;(p<s||e>0)&&(d+=1),0===e&&(p+=1)}return{firstRowIndex:c,lastRowIndex:d-1}}))),c=(0,n.P)(l.E5,s,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),d=(0,n.P)(l.Pm,s,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]))},4991:(e,t,r)=>{r.d(t,{I:()=>v,e:()=>k});var n=r(7462),l=r(7294),o=r(8447),a=r(4696),i=r(1091),u=r(5057),s=r(8949),c=r(1509),d=r(7514),p=r(4260);const g=e=>e?0:100,f=e=>t=>(0,n.Z)({},t,{pagination:(0,n.Z)({},t.pagination,{pageSize:e})});var w=r(1207),h=r(2339);const b=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,m=e=>e.pageCount?(0,n.Z)({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,C=e=>t=>(0,n.Z)({},t,{pagination:m((0,n.Z)({},t.pagination,{page:e}))}),v=((0,h.b)(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error"),(e,t)=>{var r,l,o,a,i,u,s,c;let d;return d=null!=t.pageSize?t.pageSize:null!=(null==(r=t.initialState)||null==(l=r.pagination)?void 0:l.pageSize)?t.initialState.pagination.pageSize:g(t.autoPageSize),(0,n.Z)({},e,{pagination:{pageSize:d,page:null!=(o=null!=(a=t.page)?a:null==(i=t.initialState)||null==(u=i.pagination)?void 0:u.page)?o:0,pageCount:b(null!=(s=t.rowCount)?s:0,d),rowCount:null!=(c=t.rowCount)?c:0}})}),k=(e,t)=>{((e,t)=>{var r,w;const h=(0,o.J)(e,"useGridPageSize"),b=(0,a.P)(e,c.qX);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:s.B_,changeEvent:"pageSizeChange"});const m={setPageSize:l.useCallback((t=>{t!==(0,s.B_)(e)&&(h.debug(`Setting page size to ${t}`),e.current.setState(f(t)),e.current.forceUpdate())}),[e,h])};(0,i.h)(e,m,"GridPageSizeApi");const C=l.useCallback(((r,l)=>{var o,a;const i=(0,s.B_)(e);return l.exportOnlyDirtyModels&&null==t.pageSize&&null==(null==(o=t.initialState)||null==(a=o.pagination)?void 0:a.pageSize)&&i===g(t.autoPageSize)?r:(0,n.Z)({},r,{pagination:(0,n.Z)({},r.pagination,{pageSize:i})})}),[e,t.pageSize,null==(r=t.initialState)||null==(w=r.pagination)?void 0:w.pageSize,t.autoPageSize]),v=l.useCallback(((t,r)=>{var n;const l=null==(n=r.stateToRestore.pagination)?void 0:n.pageSize;return null!=l&&e.current.setState(f(l)),t}),[e]);(0,d.Z)(e,"exportState",C),(0,d.Z)(e,"restoreState",v);const k=l.useCallback((()=>{const r=e.current.getRootDimensions();if(!t.autoPageSize||!r)return;const n=(0,p.oq)(e),l=Math.floor((r.viewportInnerSize.height-n.top-n.bottom)/b);e.current.setPageSize(l)}),[e,t.autoPageSize,b]);(0,u.zn)(e,"viewportInnerSizeChange",k),l.useEffect((()=>{null==t.pageSize||t.autoPageSize||e.current.setPageSize(t.pageSize)}),[e,t.autoPageSize,t.pageSize]),l.useEffect((()=>{k()}),[k])})(e,t),((e,t)=>{var r,c;const p=(0,o.J)(e,"useGridPage"),g=(0,a.P)(e,w.as);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:s.bu,changeEvent:"pageChange"});const f={setPage:l.useCallback((t=>{p.debug(`Setting page to ${t}`),e.current.setState(C(t)),e.current.forceUpdate()}),[e,p])};(0,i.h)(e,f,"GridPageApi");const h=l.useCallback(((r,l)=>{var o,a;const i=(0,s.bu)(e);return l.exportOnlyDirtyModels&&null==t.page&&null==(null==(o=t.initialState)||null==(a=o.pagination)?void 0:a.page)&&0===i?r:(0,n.Z)({},r,{pagination:(0,n.Z)({},r.pagination,{page:i})})}),[e,t.page,null==(r=t.initialState)||null==(c=r.pagination)?void 0:c.page]),v=l.useCallback(((t,r)=>{var n,l;const o=null!=(n=null==(l=r.stateToRestore.pagination)?void 0:l.page)?n:(0,s.bu)(e);return e.current.setState(C(o)),t}),[e]);(0,d.Z)(e,"exportState",h),(0,d.Z)(e,"restoreState",v),(0,u.zn)(e,"pageSizeChange",(t=>{e.current.setState((e=>{const r=b(e.pagination.rowCount,t);return(0,n.Z)({},e,{pagination:m((0,n.Z)({},e.pagination,{pageCount:r,page:e.pagination.page}))})})),e.current.forceUpdate()})),(0,u.zn)(e,"pageChange",(()=>e.current.scrollToIndexes({rowIndex:(0,s.bu)(e)*(0,s.B_)(e)}))),l.useEffect((()=>{}),[t.rowCount,t.paginationMode]),l.useEffect((()=>{e.current.setState((e=>{const r=void 0!==t.rowCount?t.rowCount:g,l=b(r,e.pagination.pageSize),o=null==t.page?e.pagination.page:t.page;return(0,n.Z)({},e,{pagination:m((0,n.Z)({},e.pagination,{page:o,rowCount:r,pageCount:l}))})})),e.current.forceUpdate()}),[g,t.rowCount,t.page,t.paginationMode,e])})(e,t)}},269:(e,t,r)=>{r.d(t,{e:()=>n});const n=e=>e.preferencePanel},7476:(e,t,r)=>{var n;r.d(t,{y:()=>n}),function(e){e.filters="filters",e.columns="columns"}(n||(n={}))},7429:(e,t,r)=>{r.d(t,{M:()=>c,Z:()=>s});var n=r(7462),l=r(7294),o=r(1091),a=r(8447),i=r(7514),u=r(269);const s=(e,t)=>{var r,l;return(0,n.Z)({},e,{preferencePanel:null!=(r=null==(l=t.initialState)?void 0:l.preferencePanel)?r:{open:!1}})},c=(e,t)=>{var r;const s=(0,a.J)(e,"useGridPreferencesPanel"),c=l.useRef(),d=l.useRef(),p=l.useCallback((()=>{s.debug("Hiding Preferences Panel");const t=(0,u.e)(e.current.state);t.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:t.openedPanelValue}),e.current.setState((e=>(0,n.Z)({},e,{preferencePanel:{open:!1}}))),e.current.forceUpdate()}),[e,s]),g=l.useCallback((()=>{d.current=setTimeout((()=>clearTimeout(c.current)),0)}),[]),f=l.useCallback((()=>{c.current=setTimeout(p,100)}),[p]),w=l.useCallback((t=>{s.debug("Opening Preferences Panel"),g(),e.current.setState((e=>(0,n.Z)({},e,{preferencePanel:(0,n.Z)({},e.preferencePanel,{open:!0,openedPanelValue:t})}))),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t}),e.current.forceUpdate()}),[s,g,e]);(0,o.h)(e,{showPreferences:w,hidePreferences:f},"ColumnMenuApi");const h=l.useCallback(((r,l)=>{var o;const a=(0,u.e)(e.current.state);return!l.exportOnlyDirtyModels||null!=(null==(o=t.initialState)?void 0:o.preferencePanel)||a.open?(0,n.Z)({},r,{preferencePanel:a}):r}),[e,null==(r=t.initialState)?void 0:r.preferencePanel]),b=l.useCallback(((t,r)=>{const l=r.stateToRestore.preferencePanel;return null!=l&&e.current.setState((e=>(0,n.Z)({},e,{preferencePanel:l}))),t}),[e]);(0,i.Z)(e,"exportState",h),(0,i.Z)(e,"restoreState",b),l.useEffect((()=>()=>{clearTimeout(c.current),clearTimeout(d.current)}),[])}},5431:(e,t,r)=>{r.d(t,{k:()=>n});const n=e=>e.rowsMeta},670:(e,t,r)=>{r.d(t,{$m:()=>s,G$:()=>i,J4:()=>u,J5:()=>h,Kd:()=>c,Kf:()=>w,Le:()=>d,OB:()=>g,P4:()=>p,Vk:()=>a,hh:()=>o});var n=r(9448);const l=e=>e.rows,o=(0,n.P)(l,(e=>e.totalRowCount)),a=(0,n.P)(l,(e=>e.loading)),i=(0,n.P)(l,(e=>e.totalTopLevelRowCount)),u=(0,n.P)(l,(e=>e.idRowsLookup)),s=(0,n.P)(l,(e=>e.idToIdLookup)),c=(0,n.P)(l,(e=>e.tree)),d=(0,n.P)(l,(e=>e.groupingName)),p=(0,n.P)(l,(e=>e.treeDepth)),g=(0,n.P)(l,(e=>e.ids)),f=(0,n.P)(l,(e=>null==e?void 0:e.additionalRowGroups)),w=(0,n.P)(f,(e=>null==e?void 0:e.pinnedRows)),h=(0,n.P)(w,(e=>{var t,r;return((null==e||null==(t=e.top)?void 0:t.length)||0)+((null==e||null==(r=e.bottom)?void 0:r.length)||0)}))},4260:(e,t,r)=>{r.d(t,{IX:()=>s,PO:()=>u,jI:()=>i,oq:()=>d,u4:()=>c});var n=r(7462),l=r(3366),o=r(670);const a=["rowsBeforePartialUpdates"];const i=(e,t,r)=>{const n=t?t(e):e.id;return function(e,t,r="A row was provided without id in the rows prop:"){if(null==e)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",r,JSON.stringify(t)].join("\n"))}(n,e,r),n},u=({rows:e,getRowId:t,loading:r})=>{const n={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let r=0;r<e.length;r+=1){const l=e[r],o=i(l,t);n.idRowsLookup[o]=l,n.idToIdLookup[o]=o,n.ids.push(o)}return n},s=({apiRef:e,previousTree:t,rowCountProp:r,loadingProp:o})=>{const i=e.current.unstable_caches.rows,u=(0,l.Z)(i,a),s=null!=r?r:0,c=e.current.unstable_applyStrategyProcessor("rowTreeCreation",(0,n.Z)({},u,{previousTree:t})),d=e.current.unstable_applyPipeProcessors("hydrateRows",c),p=1===d.treeDepth?d.ids.length:Object.values(d.tree).filter((e=>null==e.parent&&!e.isPinned)).length;return(0,n.Z)({},d,{groupingResponseBeforeRowHydration:c,loading:o,totalRowCount:Math.max(s,d.ids.length),totalTopLevelRowCount:Math.max(s,p)})},c=(e,t,r)=>{var n;const l=null==(n=e[t])?void 0:n.children;if(null==l)return[];const o=[];for(let t=0;t<l.length;t+=1){const n=l[t],a=e[n];r&&a.isAutoGenerated||o.push(n),o.push(...c(e,a.id,r))}return o};function d(e){var t,r;const n=(0,o.Kf)(e);return{top:(null==n||null==(t=n.top)?void 0:t.reduce(((t,r)=>t+=e.current.unstable_getRowHeight(r.id)),0))||0,bottom:(null==n||null==(r=n.bottom)?void 0:r.reduce(((t,r)=>t+=e.current.unstable_getRowHeight(r.id)),0))||0}}},7970:(e,t,r)=>{r.d(t,{G:()=>u});var n=r(7294),l=r(6498),o=r(1091),a=r(5543),i=r(2339);(0,i.b)(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function u(e){const t=n.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),r=n.useCallback(((...t)=>e.current.getCellValue(...t)),[e]),i=n.useCallback((t=>{const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);return{id:t,columns:e.current.getAllColumns(),row:n,getValue:r}}),[e,r]),u=n.useCallback(((t,n)=>{const l=e.current.getRow(t),o=e.current.getRowNode(t);if(!l||!o)throw new Error(`No row with id #${t} found`);const i=(0,a.TR)(e),u=(0,a.d6)(e);return{id:t,field:n,row:l,rowNode:o,value:l[n],colDef:e.current.getColumn(n),cellMode:e.current.getCellMode(t,n),getValue:r,api:e.current,hasFocus:null!==i&&i.field===n&&i.id===t,tabIndex:u&&u.field===n&&u.id===t?0:-1}}),[e,r]),s=n.useCallback(((t,n)=>{const l=e.current.getColumn(n),o=e.current.getCellValue(t,n),i=e.current.getRow(t),u=e.current.getRowNode(t);if(!i||!u)throw new Error(`No row with id #${t} found`);const s=(0,a.TR)(e),c=(0,a.d6)(e),d={id:t,field:n,row:i,rowNode:u,colDef:l,cellMode:e.current.getCellMode(t,n),getValue:r,hasFocus:null!==s&&s.field===n&&s.id===t,tabIndex:c&&c.field===n&&c.id===t?0:-1,value:o,formattedValue:o};return l&&l.valueFormatter&&(d.formattedValue=l.valueFormatter({id:t,field:d.field,value:d.value,api:e.current})),d.isEditable=l&&e.current.isCellEditable(d),d}),[e,r]),c=n.useCallback(((t,r)=>{const n=e.current.getColumn(r);if(!n||!n.valueGetter){const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);return n[r]}return n.valueGetter(u(t,r))}),[e,u]),d=n.useCallback((t=>e.current.rootElementRef.current?(0,l.qk)(e.current.rootElementRef.current,t):null),[e]),p=n.useCallback((t=>e.current.rootElementRef.current?(0,l.Q6)(e.current.rootElementRef.current,t):null),[e]),g={getCellValue:c,getCellParams:s,getCellElement:n.useCallback(((t,r)=>e.current.rootElementRef.current?(0,l.ct)(e.current.rootElementRef.current,{id:t,field:r}):null),[e]),getRowParams:i,getRowElement:p,getColumnHeaderParams:t,getColumnHeaderElement:d};(0,o.h)(e,g,"GridParamsApi")}},5021:(e,t,r)=>{r.d(t,{F:()=>f,K:()=>w});var n=r(7462),l=r(7294),o=r(1091),a=r(8447),i=r(670),u=r(5057),s=r(1133),c=r(3614),d=r(1207),p=r(4260),g=r(5962);const f=(e,t,r)=>(r.current.unstable_caches.rows=(0,p.PO)({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),(0,n.Z)({},e,{rows:(0,p.IX)({apiRef:r,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),w=(e,t)=>{const r=(0,a.J)(e,"useGridRows"),f=(0,s.y)(e,t),w=l.useRef(Date.now()),h=l.useRef(null),b=l.useCallback((t=>{var r;return null!=(r=(0,i.J4)(e)[t])?r:null}),[e]),m=l.useMemo((()=>f.rows.reduce(((e,{id:t},r)=>(e[t]=r,e)),{})),[f.rows]),C=l.useCallback(((r,l)=>{const o=()=>{h.current=null,w.current=Date.now(),e.current.setState((r=>(0,n.Z)({},r,{rows:(0,p.IX)({apiRef:e,previousTree:(0,i.Kd)(e),rowCountProp:t.rowCount,loadingProp:t.loading})}))),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(h.current&&(clearTimeout(h.current),h.current=null),e.current.unstable_caches.rows=r,!l)return void o();const a=t.throttleRowsMs-(Date.now()-w.current);a>0?h.current=setTimeout(o,a):o()}),[t.throttleRowsMs,t.rowCount,t.loading,e]),v=l.useCallback((e=>{r.debug(`Updating all rows, new length ${e.length}`),C((0,p.PO)({rows:e,getRowId:t.getRowId,loading:t.loading}),!0)}),[r,t.getRowId,t.loading,C]),k=l.useCallback((r=>{if(t.signature===u.cG.DataGrid&&r.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const l=new Map;r.forEach((e=>{const r=(0,p.jI)(e,t.getRowId,"A row was provided without id when calling updateRows():");l.has(r)?l.set(r,(0,n.Z)({},l.get(r),e)):l.set(r,e)}));const o=[],a=e.current.unstable_caches.rows,i={rowsBeforePartialUpdates:a.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:a.loadingPropBeforePartialUpdates,idRowsLookup:(0,n.Z)({},a.idRowsLookup),idToIdLookup:(0,n.Z)({},a.idToIdLookup),ids:[...a.ids]};l.forEach(((t,r)=>{if("delete"===t._action)return delete i.idRowsLookup[r],delete i.idToIdLookup[r],void o.push(r);if(!e.current.getRow(r))return i.idRowsLookup[r]=t,i.idToIdLookup[r]=r,void i.ids.push(r);i.idRowsLookup[r]=(0,n.Z)({},e.current.getRow(r),t)})),o.length>0&&(i.ids=i.ids.filter((e=>!o.includes(e)))),C(i,!0)}),[t.signature,t.getRowId,C,e]),P=l.useCallback((()=>{const t=(0,i.OB)(e),r=(0,i.J4)(e);return new Map(t.map((e=>[e,r[e]])))}),[e]),R=l.useCallback((()=>(0,i.hh)(e)),[e]),F=l.useCallback((()=>(0,i.OB)(e)),[e]),M=l.useCallback((e=>m[e]),[m]),S=l.useCallback(((t,r)=>{const l=e.current.getRowNode(t);if(!l)throw new Error(`MUI: No row with id #${t} found`);const o=(0,n.Z)({},l,{childrenExpanded:r});e.current.setState((e=>(0,n.Z)({},e,{rows:(0,n.Z)({},e.rows,{tree:(0,n.Z)({},e.rows.tree,{[t]:o})})}))),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",o)}),[e]),I=l.useCallback((t=>{var r;return null!=(r=(0,i.Kd)(e)[t])?r:null}),[e]),y=l.useCallback((({skipAutoGeneratedRows:t=!0,groupId:r,applySorting:n,applyFiltering:l})=>{const o=(0,i.Kd)(e);let a;if(n){const n=o[r];if(!n)return[];const l=(0,c.aV)(e);a=[];for(let e=l.findIndex((e=>e===r))+1;e<l.length&&o[l[e]].depth>n.depth;e+=1){const r=l[e],n=o[r];t&&n.isAutoGenerated||a.push(r)}}else a=(0,p.u4)(o,r,t);if(l){const t=(0,d._g)(e);a=a.filter((e=>!1!==t[e]))}return a}),[e]),Z={getRow:b,getRowModels:P,getRowsCount:R,getAllRowIds:F,setRows:v,setRowIndex:l.useCallback(((t,l)=>{const o=(0,i.OB)(e),a=o.findIndex((e=>e===t));if(-1===a||a===l)return;r.debug(`Moving row ${t} to index ${l}`);const u=[...o];u.splice(l,0,u.splice(a,1)[0]),e.current.setState((e=>(0,n.Z)({},e,{rows:(0,n.Z)({},e.rows,{ids:u})}))),e.current.publishEvent("rowsSet")}),[e,r]),updateRows:k,setRowChildrenExpansion:S,getRowNode:I,getRowIndexRelativeToVisibleRows:M,getRowGroupChildren:y,unstable_replaceRows:l.useCallback(((r,l)=>{if(t.signature===u.cG.DataGrid&&l.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0===l.length)return;const o=[...(0,i.OB)(e)],a=(0,i.J4)(e),s=(0,i.$m)(e),c=(0,i.Kd)(e),d=(0,n.Z)({},a),g=(0,n.Z)({},s),f=(0,n.Z)({},c),w=l.map((e=>({id:(0,p.jI)(e,t.getRowId,"A row was provided without id when calling replaceRows()."),model:e})));w.forEach(((e,t)=>{const[n]=o.splice(r+t,1,e.id);delete d[n],delete g[n],delete f[n]})),w.forEach((e=>{const t={id:e.id,parent:null,depth:0,groupingKey:null,groupingField:null};d[e.id]=e.model,g[e.id]=e.id,f[e.id]=t})),e.current.setState((e=>(0,n.Z)({},e,{rows:(0,n.Z)({},e.rows,{idRowsLookup:d,idToIdLookup:g,tree:f,ids:o})}))),e.current.publishEvent("rowsSet")}),[e,t.signature,t.getRowId])},E=l.useCallback((()=>{let n;r.info("Row grouping pre-processing have changed, regenerating the row tree"),n=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?e.current.unstable_caches.rows:(0,p.PO)({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),C(n,!1)}),[r,e,t.rows,t.getRowId,t.loading,C]),z=l.useCallback((e=>{"rowTreeCreation"===e&&E()}),[E]),x=l.useCallback((()=>{e.current.unstable_getActiveStrategy("rowTree")!==(0,i.Le)(e)&&E()}),[e,E]);(0,u.zn)(e,"activeStrategyProcessorChange",z),(0,u.zn)(e,"strategyAvailabilityChange",x);const T=l.useCallback((()=>{e.current.setState((t=>(0,n.Z)({},t,{rows:(0,n.Z)({},t.rows,e.current.unstable_applyPipeProcessors("hydrateRows",t.rows.groupingResponseBeforeRowHydration))}))),e.current.publishEvent("rowsSet"),e.current.forceUpdate()}),[e]);(0,g.R)(e,"hydrateRows",T),(0,o.h)(e,Z,"GridRowApi"),l.useEffect((()=>()=>{null!==h.current&&clearTimeout(h.current)}),[]);const L=l.useRef(!0);l.useEffect((()=>{if(L.current)return void(L.current=!1);const l=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,o=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading;l?o||(e.current.setState((e=>(0,n.Z)({},e,{rows:(0,n.Z)({},e.rows,{loading:t.loading})}))),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()):(r.debug(`Updating all rows, new length ${t.rows.length}`),C((0,p.PO)({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),!1))}),[t.rows,t.rowCount,t.getRowId,t.loading,r,C,e])}},5961:(e,t,r)=>{r.d(t,{Q:()=>h,y:()=>b});var n=r(7462),l=r(7294),o=r(5400),a=r(6622),i=r(1133),u=r(1091),s=r(4696),c=r(1509),d=r(1207),p=r(8949),g=r(3614),f=r(5962),w=r(670);const h=e=>(0,n.Z)({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),b=(e,t)=>{const{getRowHeight:r,getRowSpacing:h,getEstimatedRowHeight:b}=t,m=l.useRef({}),C=l.useRef(-1),v=l.useRef(!1),k=(0,s.P)(e,c.qX),P=(0,s.P)(e,d.Ic),R=(0,s.P)(e,p.fL),F=(0,s.P)(e,g.hO),M=(0,i.y)(e,t),S=(0,s.P)(e,w.Kf),I=l.useCallback((()=>{var t,l;v.current=!1;const o=(0,c.CD)(e.current.state,e.current.instanceId),a=t=>{m.current[t.id]||(m.current[t.id]={sizes:{baseCenter:k},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:l,needsFirstMeasurement:a,sizes:i}=m.current[t.id];let u=k;const s=i.baseCenter;if(l)u=s;else if(r){const e=r((0,n.Z)({},t,{densityFactor:o}));if("auto"===e){if(a){const e=b?b((0,n.Z)({},t,{densityFactor:o})):k;u=null!=e?e:k}else u=s;v.current=!0,m.current[t.id].autoHeight=!0}else u=null!=e?e:k,m.current[t.id].needsFirstMeasurement=!1,m.current[t.id].autoHeight=!1}else m.current[t.id].needsFirstMeasurement=!1;const c=Object.entries(i).reduce(((e,[t,r])=>(/^base[A-Z]/.test(t)&&(e[t]=r),e)),{}),d=(0,n.Z)({},c,{baseCenter:u});if(h){var p,g;const r=e.current.getRowIndexRelativeToVisibleRows(t.id),l=h((0,n.Z)({},t,{isFirstVisible:0===r,isLastVisible:r===M.rows.length-1,indexRelativeToCurrentPage:r}));d.spacingTop=null!=(p=l.top)?p:0,d.spacingBottom=null!=(g=l.bottom)?g:0}const f=e.current.unstable_applyPipeProcessors("rowHeight",d,t);return m.current[t.id].sizes=f,f},i=[],u=M.rows.reduce(((e,t)=>{i.push(e);let r=0,n=0;const l=a(t);return Object.entries(l).forEach((([e,t])=>{/^base[A-Z]/.test(e)?r=t>r?t:r:n+=t})),e+r+n}),0);null==S||null==(t=S.top)||t.forEach((e=>{a(e)})),null==S||null==(l=S.bottom)||l.forEach((e=>{a(e)})),e.current.setState((e=>(0,n.Z)({},e,{rowsMeta:{currentPageTotalHeight:u,positions:i}}))),v.current||(C.current=1/0),e.current.forceUpdate()}),[e,M.rows,k,r,h,b,S]),y=l.useCallback((e=>{const t=m.current[e];return t?t.sizes.baseCenter:k}),[k]),Z=l.useCallback(((e,t)=>{m.current[e].sizes.baseCenter=t,m.current[e].isResized=!0,m.current[e].needsFirstMeasurement=!1,I()}),[I]),E=l.useMemo((()=>(0,o.Z)(I)),[I]),z=l.useCallback(((e,t,r)=>{if(!m.current[e]||!m.current[e].autoHeight)return;const n=m.current[e].sizes[`base${(0,a.Z)(r)}`]!==t;m.current[e].needsFirstMeasurement=!1,m.current[e].sizes[`base${(0,a.Z)(r)}`]=t,n&&E()}),[E]),x=l.useCallback((e=>{var t;return(null==(t=m.current[e])?void 0:t.autoHeight)||!1}),[]),T=l.useCallback((()=>C.current),[]),L=l.useCallback((e=>{v.current&&e>C.current&&(C.current=e)}),[]),V=l.useCallback((()=>{m.current={},I()}),[I]);l.useEffect((()=>{I()}),[k,P,R,F,I]),(0,f.R)(e,"rowHeight",I);const _={unstable_getLastMeasuredRowIndex:T,unstable_setLastMeasuredRowIndex:L,unstable_rowHasAutoHeight:x,unstable_getRowHeight:y,unstable_getRowInternalSizes:e=>{var t;return null==(t=m.current[e])?void 0:t.sizes},unstable_setRowHeight:Z,unstable_storeRowHeightMeasurement:z,resetRowHeights:V};(0,u.h)(e,_,"GridRowsMetaApi")}},2323:(e,t,r)=>{r.d(t,{Q:()=>a});var n=r(2939),l=r(8558);const o=({ids:e,idRowsLookup:t,idToIdLookup:r,previousTree:l})=>{const o={};for(let t=0;t<e.length;t+=1){const r=e[t];l&&l[r]&&0===l[r].depth&&null==l[r].parent&&!l[r].isPinned?o[r]=l[r]:o[r]={id:r,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:n.Lm,tree:o,treeDepth:1,idRowsLookup:t,idToIdLookup:r,ids:e}},a=e=>{(0,l.H)(e,n.Lm,"rowTreeCreation",o)}}}]);