"use strict";(self.webpackChunkiframe_list=self.webpackChunkiframe_list||[]).push([[889],{2158:(e,t,l)=>{l.d(t,{D:()=>s});var n=l(7294),r=l(5781),o=l(1091);function i(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const l=document.createRange();l.selectNode(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(l);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const s=e=>{const t=n.useCallback(((t=!1)=>{if(0===e.current.getSelectedRows().size)return;const l=e.current.getDataAsCsv({includeHeaders:t,delimiter:"\t"});navigator.clipboard?navigator.clipboard.writeText(l).catch((()=>{i(l)})):i(l)}),[e]),l=n.useCallback((t=>{var l;const n=t.ctrlKey||t.metaKey||t.altKey;"C"===String.fromCharCode(t.keyCode)&&n&&""===(null==(l=window.getSelection())?void 0:l.toString())&&e.current.unstable_copySelectedRowsToClipboard(t.altKey)}),[e]);(0,r.J)(e,e.current.rootElementRef,"keydown",l);const s={unstable_copySelectedRowsToClipboard:t};(0,o.h)(e,s,"GridClipboardApi")}},7815:(e,t,l)=>{l.d(t,{X:()=>n});const n=(0,l(9448).P)((e=>e.columnGrouping),(e=>e.lookup))},5179:(e,t,l)=>{l.d(t,{XF:()=>d,ap:()=>C,r1:()=>m,u4:()=>f});var n=l(7462),r=l(3366),o=l(7294),i=l(9963),s=l(7815),u=l(198),a=l(1091);const c=["groupId","children"];function d(e){return void 0!==e.groupPath}const p=(e,t,l)=>{if((0,i.B)(e)){if(void 0!==l[e.field])throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${l[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join("\n"));return void(l[e.field]=t)}const{groupId:n,children:r}=e;r.forEach((e=>{p(e,[...t,n],l)}))},m=e=>{if(!e)return{};const t={};return e.forEach((e=>{p(e,[],t)})),t},h=e=>{let t={};return e.forEach((e=>{if((0,i.B)(e))return;const{groupId:l,children:o}=e,s=(0,r.Z)(e,c);if(!l)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");o||console.warn(`MUI: group groupId=${l} has no children.`);const u=(0,n.Z)({},s,{groupId:l}),a=h(o);if(void 0!==a[l]||void 0!==t[l])throw new Error(`MUI: The groupId ${l} is used multiple times in the columnGroupingModel.`);t=(0,n.Z)({},t,a,{[l]:u})})),(0,n.Z)({},t)},f=(e,t)=>{var l;const r=h(null!=(l=t.columnGroupingModel)?l:[]);return(0,n.Z)({},e,{columnGrouping:{lookup:r,groupCollapsedModel:{}}})},C=(e,t)=>{var l;const r={unstable_getColumnGroupPath:o.useCallback((t=>{var l,n;return null!=(l=null==(n=(0,u.WH)(e)[t])?void 0:n.groupPath)?l:[]}),[e]),unstable_getAllGroupDetails:o.useCallback((()=>(0,s.X)(e)),[e])};(0,a.h)(e,r,"GridColumnGroupingApi");const i=o.useRef(!0);o.useEffect((()=>{var l,r;if(i.current)return void(i.current=!1);if(null==(l=t.experimentalFeatures)||!l.columnGrouping)return;const o=h(null!=(r=t.columnGroupingModel)?r:[]);e.current.setState((e=>(0,n.Z)({},e,{columnGrouping:(0,n.Z)({},e.columnGrouping,{lookup:o})})))}),[e,t.columnGroupingModel,null==(l=t.experimentalFeatures)?void 0:l.columnGrouping])}},5270:(e,t,l)=>{l.d(t,{m:()=>u});var n=l(7462),r=l(7294),o=l(7514),i=l(4791),s=l(5179);const u=(e,t)=>{var l;const u=r.useCallback((e=>{var l;if(null==(l=t.experimentalFeatures)||!l.columnGrouping)return e;const r=(0,s.r1)(t.columnGroupingModel);return e.all.forEach((t=>{var l,o;const u=null!=(l=r[t])?l:[],a=e.lookup[t];(0,s.XF)(a)&&(0,i.xb)(u,null==a?void 0:a.groupPath)||(e.lookup[t]=(0,n.Z)({},e.lookup[t],{groupPath:null!=(o=r[t])?o:[]}))})),e}),[t.columnGroupingModel,null==(l=t.experimentalFeatures)?void 0:l.columnGrouping]);(0,o.Z)(e,"hydrateColumns",u)}},4098:(e,t,l)=>{l.d(t,{L:()=>x});var n=l(7462),r=l(7294),o=l(3935),i=l(4771),s=l(1719),u=l(4815),a=l(9630),c=l(4696),d=l(198),p=l(5543),m=l(1509),h=l(1207),f=l(3614),C=l(9500),g=l(8836),b=l(5057),w=l(5260),E=l(530),v=l(1133),y=l(1529),R=l(2689),M=l(4791),P=l(8521);const k=(0,s.ZP)("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})((()=>({display:"flex"})));const x=e=>{const{innerRef:t,minColumnIndex:l=0}=e,[s,x]=r.useState(""),[S,V]=r.useState(""),Z=(0,a.l)(),I=(0,c.P)(Z,d.FE),T=(0,c.P)(Z,d.Ag),D=(0,c.P)(Z,p.X5),U=(0,c.P)(Z,p.d6),z=(0,c.P)(Z,p.ud),F=(0,c.P)(Z,m.wr),_=(0,c.P)(Z,m.iA),O=(0,c.P)(Z,m.AV),H=(0,c.P)(Z,h.AF),G=(0,c.P)(Z,f.Nl),W=(0,c.P)(Z,C.h),$=(0,g.B)(),j=r.useRef(null),K=(0,i.Z)(t,j),[A,B]=r.useState(null),L=r.useRef(A),N=r.useRef(0),q=(0,v.y)(Z,$);r.useEffect((()=>{Z.current.columnHeadersContainerElementRef.current.scrollLeft=0}),[Z]);const J=r.useRef((0,u.PW)(E.BD,{equalityCheck:(e,t)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every((l=>e[l]===t[l]))})),X=r.useCallback((e=>{const[t,n]=(0,y.sn)({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:q.rows.length,buffer:$.rowBuffer}),r=J.current({firstColumnIndex:e.firstColumnIndex,minColumnIndex:l,columnBuffer:$.columnBuffer,firstRowToRender:t,lastRowToRender:n,apiRef:Z,visibleRows:q.rows}),o=r>0?N.current-T[r]:N.current;j.current.style.transform=`translate3d(${-o}px, 0px, 0px)`}),[T,l,$.columnBuffer,Z,q.rows,$.rowBuffer]);r.useLayoutEffect((()=>{A&&X(A)}),[A,X]);const Y=r.useCallback((({left:e,renderContext:t=null},l)=>{var n,r;if(!j.current)return;if(N.current===e&&(null==(n=L.current)?void 0:n.firstColumnIndex)===(null==t?void 0:t.firstColumnIndex)&&(null==(r=L.current)?void 0:r.lastColumnIndex)===(null==t?void 0:t.lastColumnIndex))return;N.current=e;let i=!1;t===L.current&&L.current?i=!0:(!function(e){return!!e.target}(l)?B(t):(o.flushSync((()=>{B(t)})),i=!0),L.current=t),t&&i&&X(t)}),[X]),Q=r.useCallback((e=>V(e.field)),[]),ee=r.useCallback((()=>V("")),[]),te=r.useCallback((e=>x(e.field)),[]),le=r.useCallback((()=>x("")),[]);(0,b.zn)(Z,"columnResizeStart",Q),(0,b.zn)(Z,"columnResizeStop",ee),(0,b.zn)(Z,"columnHeaderDragStart",te),(0,b.zn)(Z,"columnHeaderDragEnd",le),(0,b.zn)(Z,"rowsScroll",Y);const ne=e=>{const{renderContext:t=A,minFirstColumn:n=l,maxLastColumn:r=I.length}=e||{};if(!t)return null;const[o,i]=(0,y.sn)({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:q.rows.length,buffer:$.rowBuffer}),s=J.current({firstColumnIndex:t.firstColumnIndex,minColumnIndex:n,columnBuffer:$.columnBuffer,apiRef:Z,firstRowToRender:o,lastRowToRender:i,visibleRows:q.rows}),u=Math.min(t.lastColumnIndex+$.columnBuffer,r);return{renderedColumns:I.slice(s,u),firstColumnToRender:s,lastColumnToRender:u,minFirstColumn:n,maxLastColumn:r}},re=(e=[],t)=>e.slice(0,t+1),oe={minHeight:O,maxHeight:O,lineHeight:`${F}px`};return{renderContext:A,getColumnHeaders:(e,t={})=>{const l=ne(e);if(null==l)return null;const{renderedColumns:r,firstColumnToRender:o}=l,i=[];for(let e=0;e<r.length;e+=1){const l=r[e],u=o+e,a=0===u,c=!(null===D&&null===U),d=null!==D&&D.field===l.field||a&&!c?0:-1,p=null!==z&&z.field===l.field,m=W.open&&W.field===l.field;i.push((0,P.jsx)(w.C,(0,n.Z)({},G[l.field],{columnMenuOpen:m,filterItemsCounter:H[l.field]&&H[l.field].length,headerHeight:F,isDragging:l.field===s,column:l,colIndex:u,isResizing:S===l.field,isLastColumn:u===I.length-1,extendRowFullWidth:!$.disableExtendRowFullWidth,hasFocus:p,tabIndex:d},t),l.field))}return(0,P.jsx)(k,{role:"row","aria-rowindex":_+1,children:i})},getColumnGroupHeaders:e=>{if(0===_)return null;const t=ne(e);if(null==t||0===t.renderedColumns.length)return null;const{renderedColumns:r,firstColumnToRender:o,lastColumnToRender:i,maxLastColumn:s}=t,u=[],a=[];for(let e=0;e<_;e+=1){var c,d,p;const t=[];let u=0,y=o-1;const R=null==(c=I[o])||null==(d=c.groupPath)?void 0:d[e],P=re(null==(p=I[o])?void 0:p.groupPath,e);for(;null!==R&&y>=l&&null!=(m=I[y])&&m.groupPath&&(0,M.xb)(re(null==(h=I[y])?void 0:h.groupPath,e),P);){var m,h,f;const e=I[y];var C,g;if(u+=null!=(f=e.computedWidth)?f:0,0===t.length)t.push({width:null!=(C=e.computedWidth)?C:0,fields:[e.field],groupId:R,groupParents:P,colIndex:y});else t[0].width+=null!=(g=e.computedWidth)?g:0,t[0].fields.push(e.field),t[0].colIndex=y;y-=1}const k=r.reduce(((t,l,r)=>{var i;const s=t[t.length-1];var u,a,c;return l.groupPath&&l.groupPath.length>e?s&&s.groupId===l.groupPath[e]?[...t.slice(0,t.length-1),(0,n.Z)({},s,{width:s.width+(null!=(a=l.computedWidth)?a:0),fields:[...s.fields,l.field]})]:[...t,{groupId:l.groupPath[e],groupParents:re(l.groupPath,e),width:null!=(u=l.computedWidth)?u:0,fields:[l.field],colIndex:o+r}]:s&&null===s.groupId&&(0,M.xb)(re(l.groupPath,e),s.groupParents)?[...t.slice(0,t.length-1),(0,n.Z)({},s,{width:s.width+(null!=(c=l.computedWidth)?c:0),fields:[...s.fields,l.field]})]:[...t,{groupId:null,groupParents:re(l.groupPath,e),width:null!=(i=l.computedWidth)?i:0,fields:[l.field],colIndex:o+r}]}),t);y=i;const x=k[k.length-1].groupId;for(;null!==x&&y<s&&null!=(b=I[y])&&b.groupPath&&(null==(w=I[y])||null==(E=w.groupPath)?void 0:E[e])===x;){var b,w,E,v;const e=I[y];k[k.length-1].width+=null!=(v=e.computedWidth)?v:0,k[k.length-1].fields.push(e.field),y+=1}a.push({leftOverflow:u,elements:[...k]})}return a.forEach(((e,t)=>{u.push((0,P.jsx)(k,{style:{height:`${F}px`,transform:`translateX(-${e.leftOverflow}px)`},role:"row","aria-rowindex":t+1,children:e.elements.map((({groupId:e,width:l,fields:n,colIndex:r},o)=>(0,P.jsx)(R.V,{groupId:e,width:l,fields:n,colIndex:r,depth:t,isLastColumn:r===I.length-n.length,extendRowFullWidth:!$.disableExtendRowFullWidth,maxDepth:a.length,height:F},o)))},t))})),u},isDragging:!!s,getRootProps:(e={})=>(0,n.Z)({style:oe},e),getInnerProps:()=>({ref:K,role:"rowgroup"})}}},9500:(e,t,l)=>{l.d(t,{h:()=>n});const n=e=>e.columnMenu},8778:(e,t,l)=>{l.d(t,{V:()=>c,p:()=>d});var n=l(7462),r=l(7294),o=l(8447),i=l(1091),s=l(5057),u=l(9500),a=l(3490);const c=e=>(0,n.Z)({},e,{columnMenu:{open:!1}}),d=e=>{const t=(0,o.J)(e,"useGridColumnMenu"),l=r.useCallback((l=>{e.current.setState((e=>e.columnMenu.open&&e.columnMenu.field===l?e:(t.debug("Opening Column Menu"),(0,n.Z)({},e,{columnMenu:{open:!0,field:l}}))))&&(e.current.hidePreferences(),e.current.forceUpdate())}),[e,t]),c=r.useCallback((()=>{e.current.setState((e=>e.columnMenu.open||void 0!==e.columnMenu.field?(t.debug("Hiding Column Menu"),(0,n.Z)({},e,{columnMenu:(0,n.Z)({},e.columnMenu,{open:!1,field:void 0})})):e))&&e.current.forceUpdate()}),[e,t]),d=r.useCallback((n=>{t.debug("Toggle Column Menu");const r=(0,u.h)(e.current.state);r.open&&r.field===n?c():l(n)}),[e,t,l,c]),p={showColumnMenu:l,hideColumnMenu:c,toggleColumnMenu:d};(0,i.h)(e,p,"GridColumnMenuApi");const m=r.useCallback(((t,l)=>{if(!l.target.classList.contains(a._.menuIconButton))return;if(!l.relatedTarget)return;const n=l.relatedTarget.classList.contains(a._.menuList),r="menuitem"===l.relatedTarget.getAttribute("role");(n||r)&&e.current.setColumnHeaderFocus(t.field)}),[e]);(0,s.zn)(e,"columnResizeStart",c),(0,s.zn)(e,"columnHeaderFocus",m),(0,s.zn)(e,"virtualScrollerWheel",e.current.hideColumnMenu),(0,s.zn)(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)}},198:(e,t,l)=>{l.d(t,{Ag:()=>d,CY:()=>f,FE:()=>c,WH:()=>s,Zi:()=>i,d$:()=>u,dG:()=>o,g0:()=>a,iD:()=>p,qH:()=>m,xs:()=>h});var n=l(9448),r=l(2339);const o=e=>e.columns,i=(0,n.P)(o,(e=>e.all)),s=(0,n.P)(o,(e=>e.lookup)),u=(0,n.P)(i,s,((e,t)=>e.map((e=>t[e])))),a=(0,n.P)(o,(e=>e.columnVisibilityModel)),c=(0,n.P)(u,a,((e,t)=>e.filter((e=>!1!==t[e.field])))),d=((0,n.P)(c,(e=>e.map((e=>e.field)))),(0,n.P)(c,(e=>{const t=[];let l=0;for(let n=0;n<e.length;n+=1)t.push(l),l+=e[n].computedWidth;return t}))),p=(0,n.P)(c,d,((e,t)=>{const l=e.length;return 0===l?0:t[l-1]+e[l-1].computedWidth})),m=(0,n.P)(u,(e=>e.filter((e=>e.filterable)))),h=(0,n.P)(u,(e=>e.reduce(((e,t)=>(t.filterable&&(e[t.field]=t),e)),{}))),f=((0,r.M)(i,["MUI: The method allGridColumnsFieldsSelector is deprecated and will be removed in the next major version.","Use gridColumnFieldsSelector instead"]),(0,r.M)(u,["MUI: The method allGridColumnsSelector is deprecated and will be removed in the next major version.","Use gridColumnDefinitionsSelector instead"]),(0,r.M)(c,["MUI: The method visibleGridColumnsSelector is deprecated and will be removed in the next major version.","Use gridVisibleColumnDefinitionsSelector instead"]),(0,r.M)(m,["MUI: The method filterableGridColumnsSelector is deprecated and will be removed in the next major version.","Use gridFilterableColumnDefinitionsSelector instead"]),(0,r.M)((0,n.P)(m,(e=>e.map((e=>e.field)))),["MUI: The method filterableGridColumnsIdsSelector is deprecated and will be removed in the next major version.","Use gridFilterableColumnDefinitionsSelector instead.","The return format is now a lookup, if you want to get the same output as before, use the following code:","","const lookup = gridFilterableColumnLookupSelector(apiRef);","const fields = gridColumnFieldsSelector(apiRef).filter(field => lookup[field]);"]),(0,r.M)((0,n.P)(c,(e=>e.length)),["MUI: The method visibleGridColumnsLengthSelector is deprecated and will be removed in the next major version.","Use the length of the array returned by gridVisibleColumnDefinitionsSelector instead."]),(0,r.M)((0,n.P)(d,p,((e,t)=>({totalWidth:t,positions:e}))),["MUI: The method gridColumnsMetaSelector is deprecated and will be removed in the next major version.","Use gridColumnsTotalWidthSelector or gridColumnPositionsSelector instead"]))},530:(e,t,l)=>{l.d(t,{BD:()=>m,QC:()=>c,VU:()=>s,bc:()=>p,eH:()=>a,qe:()=>d,uT:()=>u});var n=l(7462),r=l(1271),o=l(198),i=l(4791);const s=["maxWidth","minWidth","width","flex"],u=(e={})=>{const t=(0,n.Z)({},(0,r.t)());return Object.entries(e).forEach((([e,l])=>{t[e]?t[e]=(0,n.Z)({},t[e],l):t[e]=(0,n.Z)({},t[l.extendType||r.m],l)})),t};const a=(e,t)=>{const l={};let r=0,o=0;const s=[];e.all.forEach((t=>{const u=(0,n.Z)({},e.lookup[t]);if(!1===e.columnVisibilityModel[t])u.computedWidth=0;else{let e;u.flex&&u.flex>0?(r+=u.flex,e=0,s.push(u)):e=(0,i.uZ)(u.width,u.minWidth,u.maxWidth),o+=e,u.computedWidth=e}l[t]=u}));const u=Math.max(t-o,0);if(r>0&&t>0){const e=function({initialFreeSpace:e,totalFlexUnits:t,flexColumns:l}){const n={all:{},frozenFields:[],freeze:e=>{const t=n.all[e];t&&!0!==t.frozen&&(n.all[e].frozen=!0,n.frozenFields.push(e))}};return function r(){if(n.frozenFields.length===l.length)return;const o={min:{},max:{}};let i=e,s=t,u=0;n.frozenFields.forEach((e=>{i-=n.all[e].computedWidth,s-=n.all[e].flex}));for(let e=0;e<l.length;e+=1){const t=l[e];if(n.all[t.field]&&!0===n.all[t.field].frozen)continue;let r=i/s*t.flex;r<t.minWidth?(u+=t.minWidth-r,r=t.minWidth,o.min[t.field]=!0):r>t.maxWidth&&(u+=t.maxWidth-r,r=t.maxWidth,o.max[t.field]=!0),n.all[t.field]={frozen:!1,computedWidth:r,flex:t.flex}}u<0?Object.keys(o.max).forEach((e=>{n.freeze(e)})):u>0?Object.keys(o.min).forEach((e=>{n.freeze(e)})):l.forEach((({field:e})=>{n.freeze(e)})),r()}(),n.all}({initialFreeSpace:u,totalFlexUnits:r,flexColumns:s});Object.keys(e).forEach((t=>{l[t].computedWidth=e[t].computedWidth}))}return(0,n.Z)({},e,{lookup:l})};const c=({apiRef:e,columnsToUpsert:t,initialState:l,columnTypes:i,currentColumnVisibilityModel:u=(0,o.g0)(e),shouldRegenColumnVisibilityModelFromColumns:c,keepOnlyColumnsToUpsert:d=!1})=>{var p,m,h,f;const C=!e.current.state.columns;let g;if(C)g={all:[],lookup:{}};else{const t=(0,o.dG)(e.current.state);g={all:d?[]:[...t.all],lookup:(0,n.Z)({},t.lookup)}}let b={};d&&!C&&(b=Object.keys(g.lookup).reduce(((e,t)=>(0,n.Z)({},e,{[t]:!1})),{}));const w={};t.forEach((e=>{const{field:t}=e;w[t]=!0,b[t]=!0;let l=g.lookup[t];null==l?(l=(0,n.Z)({},((e,t)=>t&&e[t]?e[t]:e[r.m])(i,e.type),{field:t,hasBeenResized:!1}),g.all.push(t)):d&&g.all.push(t);let o=l.hasBeenResized;s.forEach((t=>{void 0!==e[t]&&(o=!0,-1===e[t]&&(e[t]=1/0))})),g.lookup[t]=(0,n.Z)({},l,{hide:null!=e.hide&&e.hide},e,{hasBeenResized:o})})),d&&!C&&Object.keys(g.lookup).forEach((e=>{b[e]||delete g.lookup[e]}));const E=(0,n.Z)({},g.lookup),v=e.current.unstable_applyPipeProcessors("hydrateColumns",g);let y={};if(c){let t=!1;const l=(0,n.Z)({},u);C?v.all.forEach((e=>{l[e]=!g.lookup[e].hide})):d&&Object.keys(l).forEach((e=>{v.lookup[e]||(delete l[e],t=!0)})),v.all.forEach((n=>{if(!w[n]&&E[n]===v.lookup[n])return;let r=u[n];if(void 0===r)if(C)r=!0;else{r=!!(0,o.dG)(e.current.state).lookup[n]}const i=!v.lookup[n].hide;i!==r&&(t=!0,l[n]=i)})),y=t||C?l:u}else y=u;const R=((e,t)=>{if(!t)return e;const{orderedFields:l=[],dimensions:r={}}=t,o=Object.keys(r);if(0===o.length&&0===l.length)return e;const i={},s=[];for(let t=0;t<l.length;t+=1){const n=l[t];e.lookup[n]&&(i[n]=!0,s.push(n))}const u=0===s.length?e.all:[...s,...e.all.filter((e=>!i[e]))],a=(0,n.Z)({},e.lookup);for(let e=0;e<o.length;e+=1){const t=o[e],l=(0,n.Z)({},a[t],{hasBeenResized:!0});Object.entries(r[t]).forEach((([e,t])=>{l[e]=-1===t?1/0:t})),a[t]=l}return{all:u,lookup:a}})(v,l),M=(0,n.Z)({},R,{columnVisibilityModel:y});return a(M,null!=(p=null==(m=(h=e.current).getRootDimensions)||null==(f=m.call(h))?void 0:f.viewportInnerSize.width)?p:0)},d=e=>t=>(0,n.Z)({},t,{columns:e});function p({firstColumnToRender:e,apiRef:t,firstRowToRender:l,lastRowToRender:n,visibleRows:r}){let o=e;for(let i=l;i<n;i+=1){if(r[i]){const l=r[i].id,n=t.current.unstable_getCellColSpanInfo(l,e);n&&n.spannedByColSpan&&(o=n.leftVisibleCellIndex)}}return o}function m({firstColumnIndex:e,minColumnIndex:t,columnBuffer:l,firstRowToRender:n,lastRowToRender:r,apiRef:o,visibleRows:i}){return p({firstColumnToRender:Math.max(e-l,t),apiRef:o,firstRowToRender:n,lastRowToRender:r,visibleRows:i})}},9626:(e,t,l)=>{l.d(t,{n:()=>i});var n=l(7294),r=l(1091),o=l(5057);const i=e=>{const t=n.useRef({}),l=n.useCallback(((e,l,n)=>{const r=t.current;r[e]||(r[e]={}),r[e][l]=n}),[]),i=n.useCallback(((e,l)=>{var n;return null==(n=t.current[e])?void 0:n[l]}),[]),s=n.useCallback((t=>{const{columnIndex:n,rowId:r,minFirstColumnIndex:o,maxLastColumnIndex:i,columns:s}=t,u=s.length,a=s[n],c="function"==typeof a.colSpan?a.colSpan(e.current.getCellParams(r,a.field)):a.colSpan;if(!c||1===c)return l(r,n,{spannedByColSpan:!1,cellProps:{colSpan:1,width:a.computedWidth}}),{colSpan:1};let d=a.computedWidth;for(let e=1;e<c;e+=1){const t=n+e;if(t>=o&&t<i){d+=s[t].computedWidth,l(r,n+e,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(n+c,u-1),leftVisibleCellIndex:n})}l(r,n,{spannedByColSpan:!1,cellProps:{colSpan:c,width:d}})}return{colSpan:c}}),[e,l]),u={unstable_getCellColSpanInfo:i,unstable_calculateColSpan:n.useCallback((({rowId:e,minFirstColumn:t,maxLastColumn:l,columns:n})=>{for(let r=t;r<l;r+=1){const o=s({columnIndex:r,rowId:e,minFirstColumnIndex:t,maxLastColumnIndex:l,columns:n});o.colSpan>1&&(r+=o.colSpan-1)}}),[s])};(0,r.h)(e,u,"GridColumnSpanningAPI");const a=n.useCallback((()=>{t.current={}}),[]);(0,o.zn)(e,"columnOrderChange",a)}},9019:(e,t,l)=>{l.d(t,{C:()=>f,P:()=>h});var n=l(7462),r=l(7294),o=l(1091),i=l(8447),s=l(198),u=l(5057),a=l(7514),c=l(5962),d=l(530),p=l(7476),m=l(8521);const h=(e,t,l)=>{var r,o,i,s,u,a,c;const p=!!t.columnVisibilityModel||!(null==(r=t.initialState)||null==(o=r.columns)||!o.columnVisibilityModel);l.current.unstable_caches.columns={isUsingColumnVisibilityModel:p};const m=(0,d.uT)(t.columnTypes),h=(0,d.QC)({apiRef:l,columnTypes:m,columnsToUpsert:t.columns,initialState:null==(i=t.initialState)?void 0:i.columns,shouldRegenColumnVisibilityModelFromColumns:!p,currentColumnVisibilityModel:null!=(s=null!=(u=t.columnVisibilityModel)?u:null==(a=t.initialState)||null==(c=a.columns)?void 0:c.columnVisibilityModel)?s:{},keepOnlyColumnsToUpsert:!0});return(0,n.Z)({},e,{columns:h})};function f(e,t){var l,h;const f=(0,i.J)(e,"useGridColumns"),C=r.useMemo((()=>(0,d.uT)(t.columnTypes)),[t.columnTypes]),g=r.useRef(t.columns),b=r.useRef(C);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:s.g0,changeEvent:"columnVisibilityModelChange"});const w=r.useCallback((t=>{f.debug("Updating columns state."),e.current.setState((0,d.qe)(t)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",t.all)}),[f,e]),E=r.useCallback((t=>(0,s.WH)(e)[t]),[e]),v=r.useCallback((()=>(0,s.d$)(e)),[e]),y=r.useCallback((()=>(0,s.FE)(e)),[e]),R=r.useCallback((()=>(0,s.CY)(e)),[e]),M=r.useCallback(((t,l=!0)=>(l?(0,s.FE)(e):(0,s.d$)(e)).findIndex((e=>e.field===t))),[e]),P=r.useCallback((t=>{const l=M(t);return(0,s.Ag)(e)[l]}),[e,M]),k=r.useCallback((t=>{(0,s.g0)(e)!==t&&(e.current.setState((l=>(0,n.Z)({},l,{columns:(0,d.QC)({apiRef:e,columnTypes:C,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})}))),e.current.forceUpdate())}),[e,C]),x=r.useCallback((t=>{const l=(0,d.QC)({apiRef:e,columnTypes:C,columnsToUpsert:t,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});w(l)}),[e,w,C]),S=r.useCallback((t=>e.current.updateColumns([t])),[e]),V=r.useCallback(((t,l)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var r;const o=(0,s.g0)(e);if(l!==(null==(r=o[t])||r)){const r=(0,n.Z)({},o,{[t]:l});e.current.setColumnVisibilityModel(r)}}else{const r=e.current.getColumn(t),o=(0,n.Z)({},r,{hide:!l});e.current.updateColumns([o]);const i={field:t,colDef:o,isVisible:l};e.current.publishEvent("columnVisibilityChange",i)}}),[e]),Z=r.useCallback(((t,l)=>{const r=(0,s.Zi)(e),o=r.findIndex((e=>e===t));if(o===l)return;f.debug(`Moving column ${t} to index ${l}`);const i=[...r],u=i.splice(o,1)[0];i.splice(l,0,u),w((0,n.Z)({},(0,s.dG)(e.current.state),{all:i}));const a={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:l,oldIndex:o};e.current.publishEvent("columnOrderChange",a)}),[e,f,w]),I=r.useCallback(((t,l)=>{f.debug(`Updating column ${t} width to ${l}`);const r=e.current.getColumn(t),o=(0,n.Z)({},r,{width:l});e.current.updateColumns([o]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:o,width:l})}),[e,f]),T={getColumn:E,getAllColumns:v,getColumnIndex:M,getColumnPosition:P,getVisibleColumns:y,getColumnsMeta:R,updateColumn:S,updateColumns:x,setColumnVisibilityModel:k,setColumnVisibility:V,setColumnIndex:Z,setColumnWidth:I};(0,o.h)(e,T,"GridColumnApi");const D=r.useCallback(((l,r)=>{const o={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var i,u,a;const l=(0,s.g0)(e);(!r.exportOnlyDirtyModels||null!=t.columnVisibilityModel||Object.keys(null!=(i=null==(u=t.initialState)||null==(a=u.columns)?void 0:a.columnVisibilityModel)?i:{}).length>0||Object.keys(l).length>0)&&(o.columnVisibilityModel=l)}o.orderedFields=(0,s.Zi)(e);const c=(0,s.d$)(e),p={};return c.forEach((e=>{if(e.hasBeenResized){const t={};d.VU.forEach((l=>{let n=e[l];n===1/0&&(n=-1),t[l]=n})),p[e.field]=t}})),Object.keys(p).length>0&&(o.dimensions=p),(0,n.Z)({},l,{columns:o})}),[e,t.columnVisibilityModel,null==(l=t.initialState)?void 0:l.columns]),U=r.useCallback(((t,l)=>{var n;const r=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?null==(n=l.stateToRestore.columns)?void 0:n.columnVisibilityModel:void 0,o=l.stateToRestore.columns;if(null==r&&null==o)return t;const i=(0,d.QC)({apiRef:e,columnTypes:C,columnsToUpsert:[],initialState:o,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:r,keepOnlyColumnsToUpsert:!1});return e.current.setState((0,d.qe)(i)),null!=o&&e.current.publishEvent("columnsChange",i.all),t}),[e,C]),z=r.useCallback(((e,l)=>{if(l===p.y.columns){var r;const e=t.components.ColumnsPanel;return(0,m.jsx)(e,(0,n.Z)({},null==(r=t.componentsProps)?void 0:r.columnsPanel))}return e}),[t.components.ColumnsPanel,null==(h=t.componentsProps)?void 0:h.columnsPanel]);(0,a.Z)(e,"exportState",D),(0,a.Z)(e,"restoreState",U),(0,a.Z)(e,"preferencePanel",z);const F=r.useRef(null);(0,u.zn)(e,"viewportInnerSizeChange",(t=>{F.current!==t.width&&(F.current=t.width,w((0,d.eH)((0,s.dG)(e.current.state),t.width)))})),(0,u.x3)(e,"columnVisibilityChange",t.onColumnVisibilityChange);const _=r.useCallback((()=>{f.info("Columns pipe processing have changed, regenerating the columns");const t=(0,d.QC)({apiRef:e,columnTypes:C,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});w(t)}),[e,f,w,C]);(0,c.R)(e,"hydrateColumns",_);const O=r.useRef(!0);r.useEffect((()=>{if(O.current)return void(O.current=!1);if(f.info(`GridColumns have changed, new length ${t.columns.length}`),g.current===t.columns&&b.current===C)return;const l=(0,d.QC)({apiRef:e,columnTypes:C,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});g.current=t.columns,b.current=C,w(l)}),[f,e,w,t.columns,C]),r.useEffect((()=>{void 0!==t.columnVisibilityModel&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)}),[e,f,t.columnVisibilityModel])}},1509:(e,t,l)=>{l.d(t,{AV:()=>c,CD:()=>a,EH:()=>r,Jz:()=>o,iA:()=>u,qX:()=>i,wr:()=>s});var n=l(9448);const r=e=>e.density,o=(0,n.P)(r,(e=>e.value)),i=(0,n.P)(r,(e=>e.rowHeight)),s=(0,n.P)(r,(e=>e.headerHeight)),u=(0,n.P)(r,(e=>e.headerGroupingMaxDepth)),a=(0,n.P)(r,(e=>e.factor)),c=(0,n.P)(r,(e=>e.headerHeight*(1+e.headerGroupingMaxDepth)))},3406:(e,t,l)=>{l.d(t,{ce:()=>h,km:()=>f});var n=l(7462),r=l(7294),o=l(1402),i=l(8447),s=l(1091),u=l(1509),a=l(4791),c=l(4696),d=l(198),p=l(5179);const m=(e,t,l,n)=>{switch(e){case o.z.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*l),headerGroupingMaxDepth:n,factor:.7};case o.z.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*l),headerGroupingMaxDepth:n,factor:1.3};default:return{value:e,headerHeight:t,rowHeight:l,headerGroupingMaxDepth:n,factor:1}}},h=(e,t)=>{let l;if(null==t.columnGroupingModel||0===Object.keys(t.columnGroupingModel).length)l=0;else{const n=(0,p.r1)(t.columnGroupingModel),r=e.columns,o=r.all.filter((e=>!1!==r.columnVisibilityModel[e]));l=0===o.length?0:Math.max(...o.map((e=>{var t,l;return null!=(t=null==(l=n[e])?void 0:l.length)?t:0})))}return(0,n.Z)({},e,{density:m(t.density,t.headerHeight,t.rowHeight,l)})},f=(e,t)=>{const l=(0,c.P)(e,d.FE),o=l.length>0?Math.max(...l.map((e=>{var t,l;return null!=(t=null==(l=e.groupPath)?void 0:l.length)?t:0}))):0,p=(0,i.J)(e,"useDensity"),h=r.useCallback(((l,r=t.headerHeight,i=t.rowHeight,s=o)=>{p.debug(`Set grid density to ${l}`),e.current.setState((e=>{const t=(0,u.EH)(e),o=m(l,r,i,s);return(0,a.xb)(t,o)?e:(0,n.Z)({},e,{density:o})})),e.current.forceUpdate()}),[p,e,t.headerHeight,t.rowHeight,o]);r.useEffect((()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,o)}),[e,t.density,t.rowHeight,t.headerHeight,o]);const f={setDensity:h};(0,s.h)(e,f,"GridDensityApi")}},1885:(e,t,l)=>{l.d(t,{J:()=>C});var n=l(7294),r=l(7505),o=l(5400),i=l(3289),s=l(5057),u=l(1091),a=l(8447),c=l(198),d=l(1509),p=l(4696),m=l(1133),h=l(5431),f=l(4260);function C(e,t){const l=(0,a.J)(e,"useResizeContainer"),C=n.useRef(!1),g=n.useRef(null),b=n.useRef(null),w=(0,p.P)(e,h.k),E=(0,p.P)(e,d.AV),v=n.useCallback((()=>{var l;const n=null==(l=e.current.rootElementRef)?void 0:l.current,o=(0,c.iD)(e),i=(0,f.oq)(e);if(!g.current)return;let s,u,a,d;if(null!=t.scrollbarSize)s=t.scrollbarSize;else if(o&&n){const e=(0,r.Z)(n).createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.overflow="scroll",e.className="scrollDiv",n.appendChild(e),s=e.offsetWidth-e.clientWidth,n.removeChild(e)}else s=0;if(t.autoHeight)d=!1,a=Math.round(o)>g.current.width,u={width:g.current.width,height:w.currentPageTotalHeight+(a?s:0)};else{u={width:g.current.width,height:g.current.height-E};const e=(({content:e,container:t,scrollBarSize:l})=>{const n=e.width>t.width,r=e.height>t.height;let o=!1,i=!1;return(n||r)&&(o=n,i=e.height+(o?l:0)>t.height,i&&(o=e.width+l>t.width)),{hasScrollX:o,hasScrollY:i}})({content:{width:Math.round(o),height:w.currentPageTotalHeight},container:{width:u.width,height:u.height-i.top-i.bottom},scrollBarSize:s});d=e.hasScrollY,a=e.hasScrollX}const p={viewportOuterSize:u,viewportInnerSize:{width:u.width-(d?s:0),height:u.height-(a?s:0)},hasScrollX:a,hasScrollY:d,scrollBarSize:s},m=b.current;b.current=p,p.viewportInnerSize.width===(null==m?void 0:m.viewportInnerSize.width)&&p.viewportInnerSize.height===(null==m?void 0:m.viewportInnerSize.height)||e.current.publishEvent("viewportInnerSizeChange",p.viewportInnerSize)}),[e,t.scrollbarSize,t.autoHeight,E,w.currentPageTotalHeight]),y=n.useCallback((()=>{v(),e.current.publishEvent("debouncedResize",g.current)}),[e,v]),R=n.useCallback((()=>b.current),[]),M=n.useCallback((()=>{const l=e.current.getRootDimensions();if(!l)return 0;const n=(0,m.j)(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const t=e.current.unstable_getRenderContext(),l=t.lastRowIndex-t.firstRowIndex;return Math.min(l-1,n.rows.length)}const r=Math.floor(l.viewportInnerSize.height/(0,d.qX)(e));return Math.min(r,n.rows.length)}),[e,t.pagination,t.paginationMode,t.getRowHeight]),P={resize:y,getRootDimensions:R,unstable_getViewportPageSize:M,unstable_updateGridDimensionsRef:v};(0,u.h)(e,P,"GridDimensionsApi");const k=n.useMemo((()=>(0,o.Z)(y,60)),[y]),x=n.useRef(!0),S=n.useCallback((e=>{g.current=e;const n=/jsdom/.test(window.navigator.userAgent);if(0!==e.height||C.current||t.autoHeight||n||(l.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),C.current=!0),0!==e.width||C.current||n||(l.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),C.current=!0),x.current)return y(),void(x.current=!1);k()}),[t.autoHeight,k,l,y]);(0,i.Z)((()=>v()),[v]),(0,s.x3)(e,"sortedRowsSet",v),(0,s.x3)(e,"pageChange",v),(0,s.x3)(e,"pageSizeChange",v),(0,s.x3)(e,"columnsChange",v),(0,s.zn)(e,"resize",S),(0,s.x3)(e,"debouncedResize",t.onResize)}},4503:(e,t,l)=>{l.d(t,{b:()=>n});const n=e=>e.editRows},2469:(e,t,l)=>{l.d(t,{U:()=>P,s:()=>k});var n=l(7462),r=l(7294),o=l(1091),i=l(3366),s=l(9142),u=l(3633),a=l(5057),c=l(9668),d=l(4503),p=l(1592),m=l(2339),h=l(670),f=l(4791),C=l(2402);const g=["id","field"],b=["id","field"],w=(0,m.b)(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error");var E=l(198),v=l(1805);const y=["id"],R=["id"],M=(0,m.b)(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),P=e=>(0,n.Z)({},e,{editRows:{}}),k=(e,t)=>{((e,t)=>{const[l,m]=r.useState({}),E=r.useRef(l),v=r.useRef({}),{processRowUpdate:y,onProcessRowUpdateError:R,cellModesModel:M,onCellModesModelChange:P,signature:k}=t,x=e=>(...l)=>{t.editMode===c.r2.Cell&&e(...l)},S=r.useCallback(((t,l)=>{const n=e.current.getCellParams(t,l);if(!e.current.isCellEditable(n))throw new Error(`MUI: The cell with id=${t} and field=${l} is not editable.`)}),[e]),V=r.useCallback(((t,l,n)=>{if(e.current.getCellMode(t,l)!==n)throw new Error(`MUI: The cell with id=${t} and field=${l} is not in ${n} mode.`)}),[e]),Z=r.useCallback(((t,l)=>{if(!t.isEditable)return;if(t.cellMode===c.Vl.Edit)return;const r=(0,n.Z)({},t,{reason:C.b.cellDoubleClick});e.current.publishEvent("cellEditStart",r,l)}),[e]),I=r.useCallback(((t,l)=>{if(t.cellMode===c.Vl.View)return;if(e.current.getCellMode(t.id,t.field)===c.Vl.View)return;const r=(0,n.Z)({},t,{reason:C.r.cellFocusOut});e.current.publishEvent("cellEditStop",r,l)}),[e]),T=r.useCallback(((t,l)=>{if(t.cellMode===c.Vl.Edit){if(229===l.which)return;let r;if("Escape"===l.key?r=C.r.escapeKeyDown:"Enter"===l.key?r=C.r.enterKeyDown:"Tab"===l.key&&(r=l.shiftKey?C.r.shiftTabKeyDown:C.r.tabKeyDown,l.preventDefault()),r){const o=(0,n.Z)({},t,{reason:r});e.current.publishEvent("cellEditStop",o,l)}}else if(t.isEditable){let r;if(" "===l.key&&l.shiftKey)return;if((0,p.J2)(l)||(l.ctrlKey||l.metaKey)&&"v"===l.key?r=C.b.printableKeyDown:"Enter"===l.key?r=C.b.enterKeyDown:"Delete"!==l.key&&"Backspace"!==l.key||(r=C.b.deleteKeyDown),r){const o=(0,n.Z)({},t,{reason:r,key:l.key});e.current.publishEvent("cellEditStart",o,l)}}}),[e]),D=r.useCallback((t=>{const{id:l,field:n,reason:o,key:i}=t,s={id:l,field:n};o===C.b.printableKeyDown?r.version.startsWith("18")?s.initialValue=i:s.deleteValue=!0:o===C.b.deleteKeyDown&&(s.deleteValue=!0),e.current.startCellEditMode(s)}),[e]),U=r.useCallback((l=>{const{id:n,field:r,reason:o}=l;let i;e.current.unstable_runPendingEditCellValueMutation(n,r),o===C.r.enterKeyDown?i="below":o===C.r.tabKeyDown?i="right":o===C.r.shiftTabKeyDown&&(i="left");let s="escapeKeyDown"===o;(0,d.b)(e.current.state)[n][r].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(s=!0),e.current.stopCellEditMode({id:n,field:r,ignoreModifications:s,cellToFocusAfter:i})}),[e,t.disableIgnoreModificationsIfProcessingProps]);(0,a.zn)(e,"cellDoubleClick",x(Z)),(0,a.zn)(e,"cellFocusOut",x(I)),(0,a.zn)(e,"cellKeyDown",x(T)),(0,a.zn)(e,"cellEditStart",x(D)),(0,a.zn)(e,"cellEditStop",x(U)),(0,a.x3)(e,"cellEditStart",t.onCellEditStart),(0,a.x3)(e,"cellEditStop",t.onCellEditStop);const z=r.useCallback(((t,l)=>{const n=(0,d.b)(e.current.state);return n[t]&&n[t][l]?c.Vl.Edit:c.Vl.View}),[e]),F=(0,u.Z)((l=>{const n=l!==t.cellModesModel;if(P&&n){const t=k===a.cG.DataGridPro?{api:e.current}:{};P(l,t)}t.cellModesModel&&n||(m(l),E.current=l,e.current.publishEvent("cellModesModelChange",l))})),_=r.useCallback(((e,t,l)=>{const r=(0,n.Z)({},E.current);if(null!==l)r[e]=(0,n.Z)({},r[e],{[t]:(0,n.Z)({},l)});else{const l=r[e],n=(0,i.Z)(l,[t].map(s.Z));r[e]=n,0===Object.keys(r[e]).length&&delete r[e]}F(r)}),[F]),O=r.useCallback(((t,l,r)=>{e.current.setState((e=>{const o=(0,n.Z)({},e.editRows);return null!==r?o[t]=(0,n.Z)({},o[t],{[l]:(0,n.Z)({},r)}):(delete o[t][l],0===Object.keys(o[t]).length&&delete o[t]),(0,n.Z)({},e,{editRows:o})})),e.current.forceUpdate()}),[e]),H=r.useCallback((e=>{const{id:t,field:l}=e,r=(0,i.Z)(e,g);S(t,l),V(t,l,c.Vl.View),_(t,l,(0,n.Z)({mode:c.Vl.Edit},r))}),[S,V,_]),G=(0,u.Z)((t=>{const{id:l,field:n,deleteValue:r,initialValue:o}=t;let i=e.current.getCellValue(l,n);(r||o)&&(i=r?"":o),O(l,n,{value:i,error:!1,isProcessingProps:!1}),e.current.setCellFocus(l,n)})),W=r.useCallback((e=>{const{id:t,field:l}=e,r=(0,i.Z)(e,b);V(t,l,c.Vl.Edit),_(t,l,(0,n.Z)({mode:c.Vl.View},r))}),[V,_]),$=(0,u.Z)((async t=>{const{id:l,field:n,ignoreModifications:r,cellToFocusAfter:o="none"}=t;V(l,n,c.Vl.Edit),e.current.unstable_runPendingEditCellValueMutation(l,n);const i=()=>{O(l,n,null),_(l,n,null),"none"!==o&&e.current.unstable_moveFocusToRelativeCell(l,n,o)};if(r)return void i();const s=(0,d.b)(e.current.state),{error:u,isProcessingProps:a}=s[l][n];if(u||a)return v.current[l][n].mode=c.Vl.Edit,void _(l,n,{mode:c.Vl.Edit});const p=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(l,n);if(y){const t=e=>{v.current[l][n].mode=c.Vl.Edit,_(l,n,{mode:c.Vl.Edit}),R?R(e):w()};try{const n=e.current.getRow(l);Promise.resolve(y(p,n)).then((t=>{e.current.updateRows([t]),i()})).catch(t)}catch(e){t(e)}}else e.current.updateRows([p]),i()})),j={getCellMode:z,startCellEditMode:H,stopCellEditMode:W,unstable_setCellEditingEditCellValue:r.useCallback((async t=>{var l,r;const{id:o,field:i,value:s,debounceMs:u,unstable_skipValueParser:a}=t;S(o,i),V(o,i,c.Vl.Edit);const p=e.current.getColumn(i),m=e.current.getRow(o);let h=s;p.valueParser&&!a&&(h=p.valueParser(s,e.current.getCellParams(o,i)));let f=(0,d.b)(e.current.state),C=(0,n.Z)({},f[o][i],{value:h,changeReason:u?"debouncedSetEditCellValue":"setEditCellValue"});if(p.preProcessEditCellProps){const e=s!==f[o][i].value;C=(0,n.Z)({},C,{isProcessingProps:!0}),O(o,i,C),C=await Promise.resolve(p.preProcessEditCellProps({id:o,row:m,props:C,hasChanged:e}))}return e.current.getCellMode(o,i)!==c.Vl.View&&(f=(0,d.b)(e.current.state),C=(0,n.Z)({},C,{isProcessingProps:!1}),C.value=p.preProcessEditCellProps?f[o][i].value:h,O(o,i,C),f=(0,d.b)(e.current.state),!(null!=(l=f[o])&&null!=(r=l[i])&&r.error))}),[e,S,V,O]),unstable_getRowWithUpdatedValuesFromCellEditing:r.useCallback(((t,l)=>{const r=e.current.getColumn(l),o=(0,d.b)(e.current.state),{value:i}=o[t][l],s=e.current.getRow(t);return r.valueSetter?r.valueSetter({value:i,row:s}):(0,n.Z)({},s,{[l]:i})}),[e])};(0,o.h)(e,j,"EditingApi"),r.useEffect((()=>{M&&F(M)}),[M,F]),r.useEffect((()=>{const t=(0,h.$m)(e),r=v.current;v.current=(0,f.I8)(l),Object.entries(l).forEach((([e,l])=>{Object.entries(l).forEach((([l,o])=>{var i,s,u;const a=(null==(i=r[e])||null==(s=i[l])?void 0:s.mode)||c.Vl.View,d=null!=(u=t[e])?u:e;o.mode===c.Vl.Edit&&a===c.Vl.View?G((0,n.Z)({id:d,field:l},o)):o.mode===c.Vl.View&&a===c.Vl.Edit&&$((0,n.Z)({id:d,field:l},o))}))}))}),[e,l,G,$])})(e,t),((e,t)=>{const[l,m]=r.useState({}),C=r.useRef(l),g=r.useRef({}),b=r.useRef(null),w=r.useRef(null),{processRowUpdate:P,onProcessRowUpdateError:k,rowModesModel:x,onRowModesModelChange:S,signature:V}=t,Z=e=>(...l)=>{t.editMode===c.r2.Row&&e(...l)},I=r.useCallback(((t,l)=>{const n=e.current.getCellParams(t,l);if(!e.current.isCellEditable(n))throw new Error(`MUI: The cell with id=${t} and field=${l} is not editable.`)}),[e]),T=r.useCallback(((t,l)=>{if(e.current.getRowMode(t)!==l)throw new Error(`MUI: The row with id=${t} is not in ${l} mode.`)}),[e]),D=r.useCallback(((t,l)=>{if(!t.isEditable)return;if(e.current.getRowMode(t.id)===c.se.Edit)return;const r=e.current.getRowParams(t.id),o=(0,n.Z)({},r,{field:t.field,reason:v.k.cellDoubleClick});e.current.publishEvent("rowEditStart",o,l)}),[e]),U=r.useCallback((e=>{w.current=e}),[]),z=r.useCallback(((t,l)=>{t.isEditable&&e.current.getRowMode(t.id)!==c.se.View&&(w.current=null,b.current=setTimeout((()=>{var r;if(b.current=null,(null==(r=w.current)?void 0:r.id)!==t.id){if(!e.current.getRow(t.id))return;if(e.current.getRowMode(t.id)===c.se.View)return;const r=e.current.getRowParams(t.id),o=(0,n.Z)({},r,{field:t.field,reason:v.U.rowFocusOut});e.current.publishEvent("rowEditStop",o,l)}})))}),[e]);r.useEffect((()=>()=>{clearTimeout(b.current)}),[]);const F=r.useCallback(((t,l)=>{if(t.cellMode===c.se.Edit){if(229===l.which)return;let r;if("Escape"===l.key)r=v.U.escapeKeyDown;else if("Enter"===l.key)r=v.U.enterKeyDown;else if("Tab"===l.key){const n=(0,E.Zi)(e).filter((l=>e.current.isCellEditable(e.current.getCellParams(t.id,l))));l.shiftKey?t.field===n[0]&&(r=v.U.shiftTabKeyDown):t.field===n[n.length-1]&&(r=v.U.tabKeyDown),r&&l.preventDefault()}if(r){const o=e.current.getRowParams(t.id),i=(0,n.Z)({},o,{reason:r,field:t.field});e.current.publishEvent("rowEditStop",i,l)}}else if(t.isEditable){let r;if(" "===l.key&&l.shiftKey)return;if((0,p.J2)(l)||(l.ctrlKey||l.metaKey)&&"v"===l.key?r=v.k.printableKeyDown:"Enter"===l.key?r=v.k.enterKeyDown:"Delete"!==l.key&&"Backspace"!==l.key||(r=v.k.deleteKeyDown),r){const o=e.current.getRowParams(t.id),i=(0,n.Z)({},o,{field:t.field,key:l.key,reason:r});e.current.publishEvent("rowEditStart",i,l)}}}),[e]),_=r.useCallback((t=>{const{id:l,field:n,reason:o,key:i}=t,s={id:l,fieldToFocus:n};o===v.k.printableKeyDown?r.version.startsWith("18")?s.initialValue=i:s.deleteValue=!!n:o===v.k.deleteKeyDown&&(s.deleteValue=!!n),e.current.startRowEditMode(s)}),[e]),O=r.useCallback((l=>{const{id:n,reason:r,field:o}=l;let i;e.current.unstable_runPendingEditCellValueMutation(n),r===v.U.enterKeyDown?i="below":r===v.U.tabKeyDown?i="right":r===v.U.shiftTabKeyDown&&(i="left");let s="escapeKeyDown"===r;const u=(0,d.b)(e.current.state);s||t.disableIgnoreModificationsIfProcessingProps||(s=Object.values(u[n]).some((e=>e.isProcessingProps))),e.current.stopRowEditMode({id:n,ignoreModifications:s,field:o,cellToFocusAfter:i})}),[e,t.disableIgnoreModificationsIfProcessingProps]);(0,a.zn)(e,"cellDoubleClick",Z(D)),(0,a.zn)(e,"cellFocusIn",Z(U)),(0,a.zn)(e,"cellFocusOut",Z(z)),(0,a.zn)(e,"cellKeyDown",Z(F)),(0,a.zn)(e,"rowEditStart",Z(_)),(0,a.zn)(e,"rowEditStop",Z(O)),(0,a.x3)(e,"rowEditStart",t.onRowEditStart),(0,a.x3)(e,"rowEditStop",t.onRowEditStop);const H=r.useCallback((l=>{if(t.editMode===c.r2.Cell)return c.se.View;const n=(0,d.b)(e.current.state);return n[l]&&Object.keys(n[l]).length>0?c.se.Edit:c.se.View}),[e,t.editMode]),G=(0,u.Z)((l=>{const n=l!==t.rowModesModel;if(S&&n){const t=V===a.cG.DataGridPro?{api:e.current}:{};S(l,t)}t.rowModesModel&&n||(m(l),C.current=l,e.current.publishEvent("rowModesModelChange",l))})),W=r.useCallback(((e,t)=>{const l=(0,n.Z)({},C.current);null!==t?l[e]=(0,n.Z)({},t):delete l[e],G(l)}),[G]),$=r.useCallback(((t,l)=>{e.current.setState((e=>{const r=(0,n.Z)({},e.editRows);return null!==l?r[t]=l:delete r[t],(0,n.Z)({},e,{editRows:r})})),e.current.forceUpdate()}),[e]),j=r.useCallback(((t,l,r)=>{e.current.setState((e=>{const o=(0,n.Z)({},e.editRows);return null!==r?o[t]=(0,n.Z)({},o[t],{[l]:(0,n.Z)({},r)}):(delete o[t][l],0===Object.keys(o[t]).length&&delete o[t]),(0,n.Z)({},e,{editRows:o})})),e.current.forceUpdate()}),[e]),K=r.useCallback((e=>{const{id:t}=e,l=(0,i.Z)(e,y);T(t,c.se.View),W(t,(0,n.Z)({mode:c.se.Edit},l))}),[T,W]),A=(0,u.Z)((t=>{const{id:l,fieldToFocus:n,deleteValue:r,initialValue:o}=t,i=(0,E.Zi)(e).reduce(((t,i)=>{if(!e.current.getCellParams(l,i).isEditable)return t;let s=e.current.getCellValue(l,i);return n===i&&(r||o)&&(s=r?"":o),t[i]={value:s,error:!1,isProcessingProps:!1},t}),{});$(l,i),n&&e.current.setCellFocus(l,n)})),B=r.useCallback((e=>{const{id:t}=e,l=(0,i.Z)(e,R);T(t,c.se.Edit),W(t,(0,n.Z)({mode:c.se.View},l))}),[T,W]),L=(0,u.Z)((t=>{const{id:l,ignoreModifications:n,field:r,cellToFocusAfter:o="none"}=t;e.current.unstable_runPendingEditCellValueMutation(l);const i=()=>{"none"!==o&&r&&e.current.unstable_moveFocusToRelativeCell(l,r,o),$(l,null),W(l,null)};if(n)return void i();const s=(0,d.b)(e.current.state),u=e.current.getRow(l);if(Object.values(s[l]).some((e=>e.isProcessingProps)))return void(g.current[l].mode=c.se.Edit);if(Object.values(s[l]).some((e=>e.error)))return g.current[l].mode=c.se.Edit,void W(l,{mode:c.se.Edit});const a=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(l);if(P){const t=e=>{g.current[l].mode=c.se.Edit,W(l,{mode:c.se.Edit}),k?k(e):M()};try{Promise.resolve(P(a,u)).then((t=>{e.current.updateRows([t]),i()})).catch(t)}catch(e){t(e)}}else e.current.updateRows([a]),i()})),N={getRowMode:H,startRowEditMode:K,stopRowEditMode:B,unstable_setRowEditingEditCellValue:r.useCallback((t=>{const{id:l,field:r,value:o,debounceMs:u,unstable_skipValueParser:a}=t;I(l,r);const p=e.current.getColumn(r),m=e.current.getRow(l);let h=o;p.valueParser&&!a&&(h=p.valueParser(o,e.current.getCellParams(l,r)));let f=(0,d.b)(e.current.state),C=(0,n.Z)({},f[l][r],{value:h,changeReason:u?"debouncedSetEditCellValue":"setEditCellValue"});return p.preProcessEditCellProps||j(l,r,C),new Promise((t=>{const o=[];if(p.preProcessEditCellProps){const u=C.value!==f[l][r].value;C=(0,n.Z)({},C,{isProcessingProps:!0}),j(l,r,C);const a=f[l],g=(0,i.Z)(a,[r].map(s.Z)),b=Promise.resolve(p.preProcessEditCellProps({id:l,row:m,props:C,hasChanged:u,otherFieldsProps:g})).then((o=>{e.current.getRowMode(l)!==c.se.View?(f=(0,d.b)(e.current.state),(o=(0,n.Z)({},o,{isProcessingProps:!1})).value=p.preProcessEditCellProps?f[l][r].value:h,j(l,r,o)):t(!1)}));o.push(b)}Object.entries(f[l]).forEach((([u,a])=>{if(u===r)return;const p=e.current.getColumn(u);if(!p.preProcessEditCellProps)return;a=(0,n.Z)({},a,{isProcessingProps:!0}),j(l,u,a),f=(0,d.b)(e.current.state);const h=f[l],C=(0,i.Z)(h,[u].map(s.Z)),g=Promise.resolve(p.preProcessEditCellProps({id:l,row:m,props:a,hasChanged:!1,otherFieldsProps:C})).then((r=>{e.current.getRowMode(l)!==c.se.View?(r=(0,n.Z)({},r,{isProcessingProps:!1}),j(l,u,r)):t(!1)}));o.push(g)})),Promise.all(o).then((()=>{e.current.getRowMode(l)===c.se.Edit?(f=(0,d.b)(e.current.state),t(!f[l][r].error)):t(!1)}))}))}),[e,I,j]),unstable_getRowWithUpdatedValuesFromRowEditing:r.useCallback((t=>{const l=(0,d.b)(e.current.state),r=e.current.getRow(t);let o=(0,n.Z)({},r);return Object.entries(l[t]).forEach((([t,l])=>{const n=e.current.getColumn(t);n.valueSetter?o=n.valueSetter({value:l.value,row:o}):o[t]=l.value})),o}),[e])};(0,o.h)(e,N,"EditingApi"),r.useEffect((()=>{x&&G(x)}),[x,G]),r.useEffect((()=>{const t=(0,h.$m)(e),r=g.current;g.current=(0,f.I8)(l),Object.entries(l).forEach((([e,l])=>{var o,i;const s=(null==(o=r[e])?void 0:o.mode)||c.se.View,u=null!=(i=t[e])?i:e;l.mode===c.se.Edit&&s===c.se.View?A((0,n.Z)({id:u},l)):l.mode===c.se.View&&s===c.se.Edit&&L((0,n.Z)({id:u},l))}))}),[e,l,A,L])})(e,t);const l=r.useRef({}),{isCellEditable:m}=t,P=r.useCallback((e=>!e.rowNode.isAutoGenerated&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(m?m(e):!e.rowNode.isPinned)))),[m]);r.useEffect((()=>{const e=l.current;return()=>{Object.entries(e).forEach((([t,l])=>{Object.keys(l).forEach((l=>{const[n]=e[t][l];clearTimeout(n),delete e[t][l]}))}))}}),[]);const k=r.useCallback(((e,t)=>{if(l.current[e])if(t){if(l.current[e][t]){const[,n]=l.current[e][t];n()}}else Object.keys(l.current[e]).forEach((t=>{const[,n]=l.current[e][t];n()}))}),[]),x={isCellEditable:P,setEditCellValue:r.useCallback((n=>{const{id:r,field:o,debounceMs:i}=n;return new Promise((s=>{((e,t,n,r)=>{if(!n)return void r();if(l.current[e]||(l.current[e]={}),l.current[e][t]){const[n]=l.current[e][t];clearTimeout(n)}const o=setTimeout((()=>{r(),delete l.current[e][t]}),n);l.current[e][t]=[o,()=>{const[n]=l.current[e][t];clearTimeout(n),r(),delete l.current[e][t]}]})(r,o,i,(async()=>{const l=t.editMode===c.r2.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(r,o)===c.Vl.Edit){const e=await l(n);s(e)}}))}))}),[e,t.editMode]),unstable_runPendingEditCellValueMutation:k,unstable_getRowWithUpdatedValues:r.useCallback(((l,n)=>t.editMode===c.r2.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(l,n):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(l)),[e,t.editMode]),unstable_getEditCellMeta:r.useCallback(((t,l)=>({changeReason:(0,d.b)(e.current.state)[t][l].changeReason})),[e])};(0,o.h)(e,x,"EditingApi")}},8682:(e,t,l)=>{l.d(t,{U:()=>C,s:()=>g});var n=l(7462),r=l(7294),o=l(9668),i=l(5057),s=l(1091),u=l(8447),a=l(4503),c=l(6432),d=l(1592),p=l(5543);function m(e){return"function"==typeof e.then}var h=l(4696),f=l(198);const C=e=>(0,n.Z)({},e,{editRows:{}});function g(e,t){var l;const C=(0,u.J)(e,"useGridEditRows");((e,t)=>{var l;const h=(0,u.J)(e,"useGridEditRows"),f=e=>(...l)=>{t.editMode===o.r2.Cell&&e(...l)},C={setCellMode:r.useCallback(((t,l,r)=>{e.current.getCellMode(t,l)!==r&&(h.debug(`Switching cell id: ${t} field: ${l} to mode: ${r}`),e.current.setState((i=>{const s=(0,n.Z)({},i.editRows);return s[t]=(0,n.Z)({},s[t]),r===o.Vl.Edit?s[t][l]={value:e.current.getCellValue(t,l)}:(delete s[t][l],Object.keys(s[t]).length||delete s[t]),(0,n.Z)({},i,{editRows:s})})),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(t,l)))}),[e,h]),getCellMode:r.useCallback(((t,l)=>{const n=(0,a.b)(e.current.state);return n[t]&&n[t][l]?o.Vl.Edit:o.Vl.View}),[e]),commitCellChange:r.useCallback(((l,r={})=>{var o;const{id:i,field:s}=l;e.current.unstable_runPendingEditCellValueMutation(i,s);const u=e.current.getEditRowsModel();if(!u[i]||!u[i][s])throw new Error(`MUI: Cell at id: ${i} and field: ${s} is not in edit mode.`);const a=u[i][s],c=e.current.getColumn(s),d=e.current.getRow(i);if(null!=(o=t.experimentalFeatures)&&o.preventCommitWhileValidating){const e=u[i][s];if(e.isValidating||e.error)return!1}const p=(0,n.Z)({},l,{value:a.value});let h=!!a.error;if(!h&&"function"==typeof c.preProcessEditCellProps){const t=c.preProcessEditCellProps({id:i,row:d,props:a});if(m(t))return t.then((t=>(e.current.unstable_setEditCellProps({id:i,field:s,props:t}),!t.error&&(e.current.publishEvent("cellEditCommit",p,r),!0))));e.current.unstable_setEditCellProps({id:i,field:s,props:t}),h=!!t.error}return!h&&(e.current.publishEvent("cellEditCommit",p,r),!0)}),[e,null==(l=t.experimentalFeatures)?void 0:l.preventCommitWhileValidating]),unstable_setCellEditingEditCellValue:r.useCallback((t=>{const l=e.current.getColumn(t.field),r=e.current.getRow(t.id);return new Promise((o=>{let i={value:t.value};const s=e.current.getEditRowsModel()[t.id][t.field];if("function"!=typeof l.preProcessEditCellProps)return e.current.unstable_setEditCellProps((0,n.Z)({},t,{props:i})),void o(!0);i=e.current.unstable_setEditCellProps((0,n.Z)({},t,{props:(0,n.Z)({},s,{isValidating:!0})})),Promise.resolve(l.preProcessEditCellProps({id:t.id,row:r,props:(0,n.Z)({},i,{value:e.current.unstable_parseValue(t.id,t.field,t.value)})})).then((l=>{e.current.unstable_setEditCellProps((0,n.Z)({},t,{props:(0,n.Z)({},l,{isValidating:!1})})),o(!l.error)}))}))}),[e])};(0,s.h)(e,C,"EditRowApi");const g=r.useCallback((async(t,l)=>{if(229===l.which)return;const{id:n,field:r,cellMode:i,isEditable:s}=t;if(!s)return;const u=i===o.Vl.Edit,a=l.ctrlKey||l.metaKey||l.altKey;if(u||!(0,d.Lc)(l)||a||" "===l.key&&l.shiftKey||e.current.publishEvent("cellEditStart",t,l),!u&&(0,d.f2)(l.key)&&(e.current.setEditCellValue({id:n,field:r,value:""}),e.current.commitCellChange({id:n,field:r},l),e.current.publishEvent("cellEditStop",t,l)),u&&(0,d.JC)(l.key)){const t={id:n,field:r};if(!await e.current.commitCellChange(t,l))return}u&&(0,d.g7)(l.key)&&e.current.publishEvent("cellEditStop",t,l)}),[e]),b=r.useCallback(((t,l)=>{t.isEditable&&e.current.publishEvent("cellEditStart",t,l)}),[e]),w=async(t,l)=>{t.cellMode!==o.Vl.View&&(await e.current.commitCellChange(t,l),e.current.publishEvent("cellEditStop",t,l))},E=(0,c.Z)(((e,t)=>{w(e,t)})),v=(0,c.Z)((()=>{const t=(0,p.TR)(e);if(!t)return;const l=e.current.getCellParams(t.id,t.field);w(l,{})})),y=r.useCallback(((t,l)=>{t.isEditable&&(e.current.setCellMode(t.id,t.field,o.Vl.Edit),(0,d.vd)(l)&&(0,d.J2)(l)&&e.current.unstable_setEditCellProps({id:t.id,field:t.field,props:{value:""}}))}),[e]),R=r.useCallback(((t,l)=>{e.current.setCellMode(t.id,t.field,o.Vl.View),(0,d.vd)(l)&&((0,d.JC)(l.key)?e.current.publishEvent("cellNavigationKeyDown",t,l):("Escape"===l.key||(0,d.f2)(l.key))&&e.current.setCellFocus(t.id,t.field))}),[e]),M=r.useCallback((t=>{const{id:l,field:r}=t,o=e.current.getEditRowsModel(),{value:i}=o[l][r];h.debug(`Setting cell id: ${l} field: ${r} to value: ${null==i?void 0:i.toString()}`);const s=e.current.getRow(l);if(s){const l=e.current.getColumn(t.field);let o=(0,n.Z)({},s,{[r]:i});l.valueSetter&&(o=l.valueSetter({row:s,value:i})),e.current.updateRows([o])}}),[e,h]),P=r.useCallback((t=>{const l=e.current.getRow(t.id),r=e.current.getColumn(t.field),o=r.preProcessEditCellProps?r.preProcessEditCellProps({id:t.id,row:l,props:t.props}):t.props;m(o)?o.then((l=>{e.current.unstable_setEditCellProps((0,n.Z)({},t,{props:l}))})):e.current.unstable_setEditCellProps((0,n.Z)({},t,{props:o}))}),[e]);(0,i.zn)(e,"cellKeyDown",f(g)),(0,i.zn)(e,"cellDoubleClick",f(b)),(0,i.zn)(e,"cellFocusOut",f(E)),(0,i.zn)(e,"columnHeaderDragStart",f(v)),(0,i.zn)(e,"cellEditStart",f(y)),(0,i.zn)(e,"cellEditStop",f(R)),(0,i.zn)(e,"cellEditCommit",f(M)),(0,i.zn)(e,"editCellPropsChange",f(P)),(0,i.x3)(e,"cellEditCommit",t.onCellEditCommit),(0,i.x3)(e,"cellEditStart",t.onCellEditStart),(0,i.x3)(e,"cellEditStop",t.onCellEditStop)})(e,t),((e,t)=>{var l,u;const d=r.useRef(null),m=r.useRef(null),C=(0,h.P)(e,f.d$),g=e=>(...l)=>{t.editMode===o.r2.Row&&e(...l)},b={setRowMode:r.useCallback(((t,l)=>{l!==e.current.getRowMode(t)&&(e.current.setState((r=>{const i=(0,n.Z)({},r.editRows);return l===o.se.Edit?(i[t]={},C.forEach((l=>{const n=e.current.getCellParams(t,l.field);n.isEditable&&(i[t][l.field]={value:n.value})}))):delete i[t],(0,n.Z)({},r,{editRows:i})})),e.current.forceUpdate())}),[e,C]),getRowMode:r.useCallback((l=>t.editMode===o.r2.Cell?o.se.View:(0,a.b)(e.current.state)[l]?o.se.Edit:o.se.View),[e,t.editMode]),commitRowChange:r.useCallback(((l,n={})=>{var r;if(t.editMode===o.r2.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(l);const i=e.current.getEditRowsModel()[l];if(!i)throw new Error(`MUI: Row at id: ${l} is not being edited.`);if(null!=(r=t.experimentalFeatures)&&r.preventCommitWhileValidating&&!Object.keys(i).reduce(((e,t)=>e&&!i[t].isValidating&&!i[t].error),!0))return!1;if(Object.values(i).some((e=>!!e.error)))return!1;const s=Object.keys(i).filter((t=>"function"==typeof e.current.getColumn(t).preProcessEditCellProps));if(s.length>0){const t=e.current.getRow(l),r=s.map((async n=>{const r=e.current.getColumn(n),o=await Promise.resolve(r.preProcessEditCellProps({id:l,row:t,props:i[n]}));return e.current.unstable_setEditCellProps({id:l,field:n,props:o}),o.error}));return Promise.all(r).then((t=>!t.some((e=>!!e))&&(e.current.publishEvent("rowEditCommit",l,n),!0)))}return e.current.publishEvent("rowEditCommit",l,n),!0}),[e,t.editMode,null==(l=t.experimentalFeatures)?void 0:l.preventCommitWhileValidating]),unstable_setRowEditingEditCellValue:r.useCallback((t=>{const l=e.current.getEditRowsModel()[t.id],r=e.current.getRow(t.id);let o=!0;return new Promise((i=>{Object.keys(l).forEach((async i=>{const s=e.current.getColumn(i);let u=i===t.field?{value:t.value}:l[i];u=e.current.unstable_setEditCellProps({id:t.id,field:i,props:(0,n.Z)({},u,{isValidating:!0})}),s.preProcessEditCellProps&&(u=await Promise.resolve(s.preProcessEditCellProps({id:t.id,row:r,props:(0,n.Z)({},u,{value:i===t.field?e.current.unstable_parseValue(t.id,i,t.value):u.value})}))),u.error&&(o=!1),e.current.unstable_setEditCellProps({id:t.id,field:i,props:(0,n.Z)({},u,{isValidating:!1})})})),i(o)}))}),[e])};(0,s.h)(e,b,"EditRowApi");const w=r.useCallback((async(l,n)=>{if(229===n.which)return;const{cellMode:r,isEditable:i}=l;if(!i)return;const s=r===o.Vl.Edit,u=e.current.getRowParams(l.id);if(s)if("Enter"===n.key){var a;if(!await e.current.commitRowChange(l.id)&&null!=(a=t.experimentalFeatures)&&a.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",u,n)}else"Escape"===n.key&&e.current.publishEvent("rowEditStop",u,n);else"Enter"===n.key&&e.current.publishEvent("rowEditStart",u,n)}),[e,null==(u=t.experimentalFeatures)?void 0:u.preventCommitWhileValidating]),E=r.useCallback(((t,l)=>{if(!t.isEditable)return;const n=e.current.getRowParams(t.id);e.current.publishEvent("rowEditStart",n,l)}),[e]),v=r.useCallback((t=>{const l=e.current.getRow(t.id),n=e.current.getEditRowsModel()[t.id];Object.keys(n).forEach((async r=>{const o=e.current.getColumn(r);if(o.preProcessEditCellProps){const i=r===t.field?t.props:n[r],s=await Promise.resolve(o.preProcessEditCellProps({id:t.id,row:l,props:i}));e.current.unstable_setEditCellProps({id:t.id,field:r,props:s})}else r===t.field&&e.current.unstable_setEditCellProps(t)}))}),[e]),y=r.useCallback((t=>{e.current.setRowMode(t.id,o.se.Edit)}),[e]),R=r.useCallback(((t,l)=>{e.current.setRowMode(t.id,o.se.View),"Enter"===l.key&&e.current.publishEvent("cellNavigationKeyDown",t,l)}),[e]),M=r.useCallback((t=>{const l=e.current.getEditRowsModel()[t];if(!l)throw new Error(`MUI: Row at id: ${t} is not being edited.`);const r=e.current.getRow(t);if(r){let t=(0,n.Z)({},r);Object.keys(l).forEach((n=>{const r=e.current.getColumn(n),o=l[n].value;r.valueSetter?t=r.valueSetter({row:t,value:o}):t[n]=o})),e.current.updateRows([t])}}),[e]),P=r.useCallback((e=>{m.current=e}),[]),k=async(t,l)=>{t.cellMode!==o.Vl.View&&(m.current=null,d.current=setTimeout((async()=>{var n;if((null==(n=m.current)?void 0:n.id)!==t.id){await e.current.commitRowChange(t.id,l);const n=e.current.getRowParams(t.id);e.current.publishEvent("rowEditStop",n,l)}})))},x=(0,c.Z)(((e,t)=>{k(e,t)})),S=(0,c.Z)((()=>{const t=(0,p.TR)(e);if(!t)return;const l=e.current.getCellParams(t.id,t.field);k(l,{})}));(0,i.zn)(e,"cellKeyDown",g(w)),(0,i.zn)(e,"cellDoubleClick",g(E)),(0,i.zn)(e,"editCellPropsChange",g(v)),(0,i.zn)(e,"rowEditStart",g(y)),(0,i.zn)(e,"rowEditStop",g(R)),(0,i.zn)(e,"rowEditCommit",g(M)),(0,i.zn)(e,"cellFocusIn",g(P)),(0,i.zn)(e,"cellFocusOut",g(x)),(0,i.zn)(e,"columnHeaderDragStart",g(S)),(0,i.x3)(e,"rowEditCommit",t.onRowEditCommit),(0,i.x3)(e,"rowEditStart",t.onRowEditStart),(0,i.x3)(e,"rowEditStop",t.onRowEditStop)})(e,t);const g=r.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:a.b,changeEvent:"editRowsModelChange"});const b=r.useCallback((e=>!e.rowNode.isAutoGenerated&&!e.rowNode.isPinned&&!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e))),[t.isCellEditable]),w=r.useCallback(((e,t)=>{if(g.current[e])if(t){if(g.current[e][t]){const[,l]=g.current[e][t];l()}}else Object.keys(g.current[e]).forEach((t=>{const[,l]=g.current[e][t];l()}))}),[]),E=r.useCallback(((l,n={})=>{((e,t,l,n)=>{if(!l)return void n();if(g.current[e]||(g.current[e]={}),g.current[e][t]){const[l]=g.current[e][t];clearTimeout(l)}const r=setTimeout((()=>{n(),delete g.current[e][t]}),l);g.current[e][t]=[r,()=>{n();const[l]=g.current[e][t];clearTimeout(l),delete g.current[e][t]}]})(l.id,l.field,l.debounceMs,(()=>{var r;if(null!=(r=t.experimentalFeatures)&&r.preventCommitWhileValidating)return"row"===t.editMode?e.current.unstable_setRowEditingEditCellValue(l):e.current.unstable_setCellEditingEditCellValue(l);const o={id:l.id,field:l.field,props:{value:l.value}};return e.current.publishEvent("editCellPropsChange",o,n)}))}),[e,t.editMode,null==(l=t.experimentalFeatures)?void 0:l.preventCommitWhileValidating]),v=r.useCallback(((t,l,n)=>{const r=e.current.getColumn(l);return r.valueParser?r.valueParser(n,e.current.getCellParams(t,l)):n}),[e]),y=r.useCallback((t=>{const{id:l,field:r,props:o}=t;C.debug(`Setting cell props on id: ${l} field: ${r}`),e.current.setState((e=>{const t=(0,n.Z)({},e.editRows);return t[l]=(0,n.Z)({},e.editRows[l]),t[l][r]=(0,n.Z)({},o,{value:v(l,r,o.value)}),(0,n.Z)({},e,{editRows:t})})),e.current.forceUpdate();return(0,a.b)(e.current.state)[l][r]}),[e,C,v]),R=r.useCallback((t=>{(0,a.b)(e.current.state)!==t&&(C.debug("Setting editRows model"),e.current.setState((e=>(0,n.Z)({},e,{editRows:t}))),e.current.forceUpdate())}),[e,C]),M=r.useCallback((()=>(0,a.b)(e.current.state)),[e]),P=r.useCallback(((e,t)=>{const l=t.detail>1;e.isEditable&&e.cellMode===o.Vl.View&&l&&t.preventDefault()}),[]);(0,i.zn)(e,"cellMouseDown",P),(0,i.x3)(e,"editCellPropsChange",t.onEditCellPropsChange);const k={isCellEditable:b,setEditRowsModel:R,getEditRowsModel:M,setEditCellValue:E,unstable_setEditCellProps:y,unstable_parseValue:v,unstable_runPendingEditCellValueMutation:w};(0,s.h)(e,k,"EditRowApi"),r.useEffect((()=>{void 0!==t.editRowsModel&&e.current.setEditRowsModel(t.editRowsModel)}),[e,t.editRowsModel])}},5776:(e,t,l)=>{l.d(t,{I:()=>r});var n=l(5057);function r(e,t){(0,n.x3)(e,"columnHeaderClick",t.onColumnHeaderClick),(0,n.x3)(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),(0,n.x3)(e,"columnHeaderOver",t.onColumnHeaderOver),(0,n.x3)(e,"columnHeaderOut",t.onColumnHeaderOut),(0,n.x3)(e,"columnHeaderEnter",t.onColumnHeaderEnter),(0,n.x3)(e,"columnHeaderLeave",t.onColumnHeaderLeave),(0,n.x3)(e,"columnOrderChange",t.onColumnOrderChange),(0,n.x3)(e,"cellClick",t.onCellClick),(0,n.x3)(e,"cellDoubleClick",t.onCellDoubleClick),(0,n.x3)(e,"cellKeyDown",t.onCellKeyDown),(0,n.x3)(e,"cellFocusOut",t.onCellFocusOut),(0,n.x3)(e,"preferencePanelClose",t.onPreferencePanelClose),(0,n.x3)(e,"preferencePanelOpen",t.onPreferencePanelOpen),(0,n.x3)(e,"menuOpen",t.onMenuOpen),(0,n.x3)(e,"menuClose",t.onMenuClose),(0,n.x3)(e,"rowDoubleClick",t.onRowDoubleClick),(0,n.x3)(e,"rowClick",t.onRowClick),(0,n.x3)(e,"componentError",t.onError),(0,n.x3)(e,"stateChange",t.onStateChange)}},8614:(e,t,l)=>{l.d(t,{_:()=>f});var n=l(7294),r=l(1091),o=l(8447),i=l(8408),s=l(1337),u=l(2339);const a=(e,t)=>{if("string"==typeof e){const l=e.replace(/"/g,'""');return[t,"\n","\r"].some((e=>l.includes(e)))?`"${l}"`:l}return e};(0,u.b)(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);function c(e){const{columns:t,rowIds:l,getCellParams:n,delimiterCharacter:r,includeHeaders:o}=e,i=l.reduce(((e,l)=>`${e}${((e,t,l,n)=>t.map((t=>{const r=l(e,t.field);return a(r.formattedValue,n)})))(l,t,n,r).join(r)}\r\n`),"").trim();if(!o)return i;return`${`${t.filter((e=>e.field!==s.n.field)).map((e=>a(e.headerName||e.field,r))).join(r)}\r\n`}${i}`.trim()}var d=l(1630),p=l(7514),m=l(9405),h=l(8521);const f=e=>{const t=(0,o.J)(e,"useGridCsvExport"),l=n.useCallback(((l={})=>{var n,r;t.debug("Get data as CSV");return c({columns:(0,d.B)({apiRef:e,options:l}),rowIds:(null!=(n=l.getRowsToExport)?n:d.s)({apiRef:e}),getCellParams:e.current.getCellParams,delimiterCharacter:l.delimiter||",",includeHeaders:null==(r=l.includeHeaders)||r})}),[t,e]),s=n.useCallback((e=>{t.debug("Export data as CSV");const n=l(e),r=new Blob([null!=e&&e.utf8WithBom?new Uint8Array([239,187,191]):"",n],{type:"text/csv"});(0,i.x)(r,"csv",null==e?void 0:e.fileName)}),[t,l]),u={getDataAsCsv:l,exportDataAsCsv:s};(0,r.h)(e,u,"GridCsvExportApi");const a=n.useCallback(((e,t)=>{var l;return null!=(l=t.csvOptions)&&l.disableToolbarButton?e:[...e,{component:(0,h.jsx)(m.aS,{options:t.csvOptions}),componentName:"csvExport"}]}),[]);(0,p.Z)(e,"exportMenu",a)}},3236:(e,t,l)=>{l.d(t,{d:()=>g});var n=l(7462),r=l(7294),o=l(7505),i=l(8447),s=l(1207),u=l(198),a=l(1509),c=l(3490),d=l(1091),p=l(5431),m=l(1630),h=l(7514),f=l(9405),C=l(8521);const g=(e,t)=>{const l=(0,i.J)(e,"useGridPrintExport"),g=r.useRef(null),b=r.useRef(null),w=r.useRef({});r.useEffect((()=>{g.current=(0,o.Z)(e.current.rootElementRef.current)}),[e]);const E=r.useCallback(((t,l)=>new Promise((n=>{if(!t&&!l)return void n();const r=(0,m.B)({apiRef:e,options:{fields:t,allColumns:l}}).map((e=>e.field)),o=(0,u.d$)(e),i={};o.forEach((e=>{i[e.field]=r.includes(e.field)})),e.current.setColumnVisibilityModel(i),n()}))),[e]),v=r.useCallback((e=>{const t=document.createElement("iframe");return t.id="grid-print-window",t.src=window.location.href,t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}),[]),y=r.useCallback(((t,l)=>{var r,o,i;const s=(0,n.Z)({copyStyles:!0,hideToolbar:!1,hideFooter:!1},l);t.onload=null;const u=t.contentDocument||(null==(r=t.contentWindow)?void 0:r.document);if(!u)return;const d=(0,a.AV)(e),m=(0,p.k)(e.current.state),h=e.current.rootElementRef.current,f=h.cloneNode(!0),C=f.querySelector(`.${c._.virtualScroller}`);C.style.height="auto",C.style.width="auto",C.parentElement.style.width="auto",C.parentElement.style.height="auto";f.querySelector(`.${c._.main}`).style.overflow="visible";f.querySelector(`.${c._.columnHeaders}`).querySelector(`.${c._.columnHeadersInner}`).style.width="100%";let b=(null==(o=h.querySelector(`.${c._.toolbarContainer}`))?void 0:o.clientHeight)||0,w=(null==(i=h.querySelector(`.${c._.footerContainer}`))?void 0:i.clientHeight)||0;var E,v;s.hideToolbar&&(null==(E=f.querySelector(`.${c._.toolbarContainer}`))||E.remove(),b=0);s.hideFooter&&(null==(v=f.querySelector(`.${c._.footerContainer}`))||v.remove(),w=0);f.style.height=`${m.currentPageTotalHeight+d+b+w}px`,u.body.innerHTML="",u.body.appendChild(f);const y="function"==typeof s.pageStyle?s.pageStyle():s.pageStyle;if("string"==typeof y){const e=u.createElement("style");e.appendChild(u.createTextNode(y)),u.head.appendChild(e)}if(s.bodyClassName&&u.body.classList.add(...s.bodyClassName.split(" ")),s.copyStyles){const e=g.current.querySelectorAll("style, link[rel='stylesheet']");for(let t=0;t<e.length;t+=1){const l=e[t];if("STYLE"===l.tagName){const e=u.createElement(l.tagName),t=l.sheet;if(t){let l="";for(let e=0;e<t.cssRules.length;e+=1)"string"==typeof t.cssRules[e].cssText&&(l+=`${t.cssRules[e].cssText}\r\n`);e.appendChild(u.createTextNode(l)),u.head.appendChild(e)}}else if(l.getAttribute("href")){const e=u.createElement(l.tagName);for(let t=0;t<l.attributes.length;t+=1){const n=l.attributes[t];n&&e.setAttribute(n.nodeName,n.nodeValue||"")}u.head.appendChild(e)}}}t.contentWindow.print()}),[e,g]),R=r.useCallback((t=>{var l,n;g.current.body.removeChild(t),e.current.restoreState(b.current||{}),null!=(l=b.current)&&null!=(n=l.columns)&&n.columnVisibilityModel||e.current.setColumnVisibilityModel(w.current),e.current.unstable_enableVirtualization(),b.current=null,w.current={}}),[e]),M={exportDataAsPrint:r.useCallback((async n=>{if(l.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(b.current=e.current.exportState(),w.current=(0,u.g0)(e),t.pagination){const t=(0,s.aE)(e);e.current.setPageSize(t)}await E(null==n?void 0:n.fields,null==n?void 0:n.allColumns),e.current.unstable_disableVirtualization();const r=v(null==n?void 0:n.fileName);g.current.body.appendChild(r),r.onload=()=>y(r,n),r.contentWindow.onafterprint=()=>R(r)}),[t,l,e,v,y,R,E])};(0,d.h)(e,M,"GridPrintExportApi");const P=r.useCallback(((e,t)=>{var l;return null!=(l=t.printOptions)&&l.disableToolbarButton?e:[...e,{component:(0,C.jsx)(f.vB,{options:t.printOptions}),componentName:"printExport"}]}),[]);(0,h.Z)(e,"exportMenu",P)}},1630:(e,t,l)=>{l.d(t,{B:()=>i,s:()=>s});var n=l(198),r=l(1207),o=l(670);const i=({apiRef:e,options:t})=>{const l=(0,n.d$)(e);if(t.fields)return t.fields.map((e=>l.find((t=>t.field===e)))).filter((e=>!!e));return(t.allColumns?l:(0,n.FE)(e)).filter((e=>!e.disableExport))},s=({apiRef:e})=>{var t,l;const n=(0,r.Lp)(e),i=(0,o.Kd)(e),s=e.current.getSelectedRows(),u=n.filter((e=>{var t;return"body"===(null!=(t=i[e].position)?t:"body")})),a=(0,o.Kf)(e),c=(null==a||null==(t=a.top)?void 0:t.map((e=>e.id)))||[],d=(null==a||null==(l=a.bottom)?void 0:l.map((e=>e.id)))||[];return u.unshift(...c),u.push(...d),s.size>0?u.filter((e=>s.has(e))):u}}}]);